

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Functions &mdash; Archiver Appliance Datasource 2.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=5f1687b9" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=73cda6fb"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tips" href="tips.html" />
    <link rel="prev" title="Variables" href="variables.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Archiver Appliance Datasource
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="query.html">Query Edit</a></li>
<li class="toctree-l1"><a class="reference internal" href="variables.html">Variables</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#categories">Categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transform-functions">Transform Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scale"><em>scale</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#offset"><em>offset</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#offset"><code class="docutils literal notranslate"><span class="pre">offset()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#delta"><em>delta</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#delta"><code class="docutils literal notranslate"><span class="pre">delta()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fluctuation"><em>fluctuation</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fluctuation"><code class="docutils literal notranslate"><span class="pre">fluctuation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#movingaverage"><em>movingAverage</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#movingAverage"><code class="docutils literal notranslate"><span class="pre">movingAverage()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#array-to-scalar-functions">Array to Scalar Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#toscalarbyavg"><em>toScalarByAvg</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#toScalarByAvg"><code class="docutils literal notranslate"><span class="pre">toScalarByAvg()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#toscalarbymax"><em>toScalarByMax</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#toScalarByMax"><code class="docutils literal notranslate"><span class="pre">toScalarByMax()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#toscalarbymin"><em>toScalarByMin</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#toScalarByMin"><code class="docutils literal notranslate"><span class="pre">toScalarByMin()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#toscalarbysum"><em>toScalarBySum</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#toScalarBySum"><code class="docutils literal notranslate"><span class="pre">toScalarBySum()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#toscalarbymed"><em>toScalarByMed</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#toScalarByMed"><code class="docutils literal notranslate"><span class="pre">toScalarByMed()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#toscalarbystd"><em>toScalarByStd</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#toScalarByStd"><code class="docutils literal notranslate"><span class="pre">toScalarByStd()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#filter-series-functions">Filter Series Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#top"><em>top</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#top"><code class="docutils literal notranslate"><span class="pre">top()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bottom"><em>bottom</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bottom"><code class="docutils literal notranslate"><span class="pre">bottom()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#exclude"><em>exclude</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#exclude"><code class="docutils literal notranslate"><span class="pre">exclude()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sort-functions">Sort Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sortbyavg"><em>sortByAvg</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sortByAvg"><code class="docutils literal notranslate"><span class="pre">sortByAvg()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sortbymax"><em>sortByMax</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sortByMax"><code class="docutils literal notranslate"><span class="pre">sortByMax()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sortbymin"><em>sortByMin</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sortByMin"><code class="docutils literal notranslate"><span class="pre">sortByMin()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sortbysum"><em>sortBySum</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sortBySum"><code class="docutils literal notranslate"><span class="pre">sortBySum()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sortbyabsmax"><em>sortByAbsMax</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sortByAbsMax"><code class="docutils literal notranslate"><span class="pre">sortByAbsMax()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sortbyabsmin"><em>sortByAbsMin</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sortByAbsMin"><code class="docutils literal notranslate"><span class="pre">sortByAbsMin()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#options-functions">Options Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fieldname"><em>fieldName</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fieldName"><code class="docutils literal notranslate"><span class="pre">fieldName()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#maxnumpvs"><em>maxNumPVs</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#maxNumPVs"><code class="docutils literal notranslate"><span class="pre">maxNumPVs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bininterval"><em>binInterval</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#binInterval"><code class="docutils literal notranslate"><span class="pre">binInterval()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#disableautoraw"><em>disableAutoRaw</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#disableAutoRaw"><code class="docutils literal notranslate"><span class="pre">disableAutoRaw()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#disableextrapol"><em>disableExtrapol</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#disableExtrapol"><code class="docutils literal notranslate"><span class="pre">disableExtrapol()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hideinvalid"><em>hideInvalid</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hidInvalid"><code class="docutils literal notranslate"><span class="pre">hidInvalid()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#arrayformat"><em>arrayFormat</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#arrayFormat"><code class="docutils literal notranslate"><span class="pre">arrayFormat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#timeseries">timeseries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#index">index</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dt-space">dt-space</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ignoreemptyerr"><em>ignoreEmptyErr</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ignoreEmptyErr"><code class="docutils literal notranslate"><span class="pre">ignoreEmptyErr()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Archiver Appliance Datasource</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Functions</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/sasaki77/archiverappliance-datasource/blob/master/docs/functions.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="functions">
<h1>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h1>
<section id="categories">
<h2>Categories<a class="headerlink" href="#categories" title="Permalink to this heading"></a></h2>
<p>Functions are categorized into below groups.</p>
<ul class="simple">
<li><p><strong>Transform:</strong> converts the timeseries datapoints from its datapoint values.</p></li>
<li><p><strong>Array to Scalar:</strong> converts the array data to scalar timeseries data with some method.</p></li>
<li><p><strong>Filter Series:</strong> picks up some series that meet certain condition.</p></li>
<li><p><strong>Sort:</strong> sorts the list of timeseries.</p></li>
<li><p><strong>Options:</strong> adds option parameters.</p></li>
</ul>
</section>
<section id="transform-functions">
<h2>Transform Functions<a class="headerlink" href="#transform-functions" title="Permalink to this heading"></a></h2>
<section id="scale">
<h3><em>scale</em><a class="headerlink" href="#scale" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="scale">
<span class="sig-name descname"><span class="pre">scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scale" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Multiplies datapoint by <em>factor</em> at each point.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">scale</span><span class="p">(</span><span class="mf">10</span><span class="p">)</span>
<span class="nx">scale</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="offset">
<h3><em>offset</em><a class="headerlink" href="#offset" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="offset">
<span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#offset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Adds <em>delta</em> to each datapoint.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">offset</span><span class="p">(</span><span class="mf">50</span><span class="p">)</span>
<span class="nx">offset</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="delta">
<h3><em>delta</em><a class="headerlink" href="#delta" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="delta">
<span class="sig-name descname"><span class="pre">delta</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#delta" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Calculates difference between datapoint and its before point at each point.</p>
</section>
<section id="fluctuation">
<h3><em>fluctuation</em><a class="headerlink" href="#fluctuation" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="fluctuation">
<span class="sig-name descname"><span class="pre">fluctuation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fluctuation" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Subtracts first datapoint value from each datapoint.</p>
</section>
<section id="movingaverage">
<h3><em>movingAverage</em><a class="headerlink" href="#movingaverage" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="movingAverage">
<span class="sig-name descname"><span class="pre">movingAverage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">windowSize</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#movingAverage" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Calculates the moving average of datapoints over a fixed number of past points, specified by windowSize param.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">movingAverage</span><span class="p">(</span><span class="mf">10</span><span class="p">)</span>
<span class="nx">movingAverage</span><span class="p">(</span><span class="mf">50</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="array-to-scalar-functions">
<h2>Array to Scalar Functions<a class="headerlink" href="#array-to-scalar-functions" title="Permalink to this heading"></a></h2>
<section id="toscalarbyavg">
<h3><em>toScalarByAvg</em><a class="headerlink" href="#toscalarbyavg" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="toScalarByAvg">
<span class="sig-name descname"><span class="pre">toScalarByAvg</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toScalarByAvg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Converts the array data to the scalar data with the average value.</p>
</section>
<section id="toscalarbymax">
<h3><em>toScalarByMax</em><a class="headerlink" href="#toscalarbymax" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="toScalarByMax">
<span class="sig-name descname"><span class="pre">toScalarByMax</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toScalarByMax" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Converts the array data to the scalar data with the maximum value.</p>
</section>
<section id="toscalarbymin">
<h3><em>toScalarByMin</em><a class="headerlink" href="#toscalarbymin" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="toScalarByMin">
<span class="sig-name descname"><span class="pre">toScalarByMin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toScalarByMin" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Converts the array data to the scalar data with the minimum value.</p>
</section>
<section id="toscalarbysum">
<h3><em>toScalarBySum</em><a class="headerlink" href="#toscalarbysum" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="toScalarBySum">
<span class="sig-name descname"><span class="pre">toScalarBySum</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toScalarBySum" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Converts the array data to the scalar data with the total value.</p>
</section>
<section id="toscalarbymed">
<h3><em>toScalarByMed</em><a class="headerlink" href="#toscalarbymed" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="toScalarByMed">
<span class="sig-name descname"><span class="pre">toScalarByMed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toScalarByMed" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Converts the array data to the scalar data with the median value.</p>
</section>
<section id="toscalarbystd">
<h3><em>toScalarByStd</em><a class="headerlink" href="#toscalarbystd" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="toScalarByStd">
<span class="sig-name descname"><span class="pre">toScalarByStd</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toScalarByStd" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Converts the array data to the scalar data with the standard deviation value.</p>
</section>
</section>
<section id="filter-series-functions">
<h2>Filter Series Functions<a class="headerlink" href="#filter-series-functions" title="Permalink to this heading"></a></h2>
<section id="top">
<h3><em>top</em><a class="headerlink" href="#top" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="top">
<span class="sig-name descname"><span class="pre">top</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#top" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Returns top N series sorted by <em>value</em>.
Available <em>value</em> is as following: <em>avg</em>, <em>min</em>, <em>max</em>, <em>absoluteMin</em>, <em>absoluteMax</em>, and <em>sum</em>.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">top</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="p">)</span>
<span class="nx">top</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="nx">avg</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="bottom">
<h3><em>bottom</em><a class="headerlink" href="#bottom" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="bottom">
<span class="sig-name descname"><span class="pre">bottom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bottom" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Returns bottom N series sorted by <em>value</em>.
Available <em>value</em> is as following: <em>avg</em>, <em>min</em>, <em>max</em>, <em>absoluteMin</em>, <em>absoluteMax</em>, and <em>sum</em>.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">bottom</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="nx">avg</span><span class="p">)</span>
<span class="nx">bottom</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="nx">min</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="exclude">
<h3><em>exclude</em><a class="headerlink" href="#exclude" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="exclude">
<span class="sig-name descname"><span class="pre">exclude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exclude" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Exclude PV data that match the regular expression.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">exclude</span><span class="p">(</span><span class="nx">PV</span><span class="p">[</span><span class="mf">0</span><span class="o">-</span><span class="mf">9</span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>
<section id="sort-functions">
<h2>Sort Functions<a class="headerlink" href="#sort-functions" title="Permalink to this heading"></a></h2>
<section id="sortbyavg">
<h3><em>sortByAvg</em><a class="headerlink" href="#sortbyavg" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sortByAvg">
<span class="sig-name descname"><span class="pre">sortByAvg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sortByAvg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Sort the list of timeseries by the average value across the time period specified.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">sortByAvg</span><span class="p">(</span><span class="nx">desc</span><span class="p">)</span>
<span class="nx">sortByAvg</span><span class="p">(</span><span class="nx">asc</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sortbymax">
<h3><em>sortByMax</em><a class="headerlink" href="#sortbymax" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sortByMax">
<span class="sig-name descname"><span class="pre">sortByMax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sortByMax" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Sort the list of timeseries by the maximum value across the time period specified.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">sortByMax</span><span class="p">(</span><span class="nx">desc</span><span class="p">)</span>
<span class="nx">sortByMax</span><span class="p">(</span><span class="nx">asc</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sortbymin">
<h3><em>sortByMin</em><a class="headerlink" href="#sortbymin" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sortByMin">
<span class="sig-name descname"><span class="pre">sortByMin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sortByMin" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Sort the list of timeseries by the minimum value across the time period specified.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">sortByMin</span><span class="p">(</span><span class="nx">desc</span><span class="p">)</span>
<span class="nx">sortByMin</span><span class="p">(</span><span class="nx">asc</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sortbysum">
<h3><em>sortBySum</em><a class="headerlink" href="#sortbysum" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sortBySum">
<span class="sig-name descname"><span class="pre">sortBySum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sortBySum" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Sort the list of timeseries by the total value across the time period specified.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">sortBySum</span><span class="p">(</span><span class="nx">desc</span><span class="p">)</span>
<span class="nx">sortBySum</span><span class="p">(</span><span class="nx">asc</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sortbyabsmax">
<h3><em>sortByAbsMax</em><a class="headerlink" href="#sortbyabsmax" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sortByAbsMax">
<span class="sig-name descname"><span class="pre">sortByAbsMax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sortByAbsMax" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Sort the list of timeseries by the absolute maximum value across the time period specified.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">sortByAbsMax</span><span class="p">(</span><span class="nx">desc</span><span class="p">)</span>
<span class="nx">sortByAbsMax</span><span class="p">(</span><span class="nx">asc</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sortbyabsmin">
<h3><em>sortByAbsMin</em><a class="headerlink" href="#sortbyabsmin" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sortByAbsMin">
<span class="sig-name descname"><span class="pre">sortByAbsMin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sortByAbsMin" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Sort the list of timeseries by the absolute minimum value across the time period specified.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">sortByAbsMin</span><span class="p">(</span><span class="nx">desc</span><span class="p">)</span>
<span class="nx">sortByAbsMin</span><span class="p">(</span><span class="nx">asc</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="options-functions">
<h2>Options Functions<a class="headerlink" href="#options-functions" title="Permalink to this heading"></a></h2>
<section id="fieldname">
<h3><em>fieldName</em><a class="headerlink" href="#fieldname" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="fieldName">
<span class="sig-name descname"><span class="pre">fieldName</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fieldName" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Set the field name to be retrieved. <code class="docutils literal notranslate"><span class="pre">VAL</span></code>, <code class="docutils literal notranslate"><span class="pre">SEVR</span></code> and <code class="docutils literal notranslate"><span class="pre">STAT</span></code> are currently supported. <code class="docutils literal notranslate"><span class="pre">SEVR</span></code> and <code class="docutils literal notranslate"><span class="pre">STAT</span></code> can be retrieved as Enum data by setting <code class="docutils literal notranslate"><span class="pre">SEVR</span> <span class="pre">as</span> <span class="pre">Enum</span></code> or <code class="docutils literal notranslate"><span class="pre">STAT</span> <span class="pre">as</span> <span class="pre">Enum</span></code>.
This function is only effective if you are using the backend data retrieval.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">fieldName</span><span class="p">(</span><span class="nx">VAL</span><span class="p">)</span>
<span class="nx">fieldName</span><span class="p">(</span><span class="nx">SEVR</span><span class="p">)</span>
<span class="nx">fieldName</span><span class="p">(</span><span class="nx">SEVR</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Enum</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="maxnumpvs">
<h3><em>maxNumPVs</em><a class="headerlink" href="#maxnumpvs" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="maxNumPVs">
<span class="sig-name descname"><span class="pre">maxNumPVs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#maxNumPVs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Set maximum number of PVs you can select for a target.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">maxNumPVs</span><span class="p">(</span><span class="mf">500</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="bininterval">
<h3><em>binInterval</em><a class="headerlink" href="#bininterval" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="binInterval">
<span class="sig-name descname"><span class="pre">binInterval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#binInterval" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Set binning interval for processing of data.
For example, if binInterval is set 100 and operator in query is set mean then returned values are average values in 100 seconds wide bins.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">binInterval</span><span class="p">(</span><span class="mf">100</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="disableautoraw">
<h3><em>disableAutoRaw</em><a class="headerlink" href="#disableautoraw" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="disableAutoRaw">
<span class="sig-name descname"><span class="pre">disableAutoRaw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boolean</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#disableAutoRaw" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Disable <a class="reference internal" href="tips.html#auto-raw-operation"><span class="std std-ref">auto raw feature</span></a>.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">disableAutoRaw</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="nx">disableAutoRaw</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="disableextrapol">
<h3><em>disableExtrapol</em><a class="headerlink" href="#disableextrapol" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="disableExtrapol">
<span class="sig-name descname"><span class="pre">disableExtrapol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boolean</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#disableExtrapol" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Disable <a class="reference internal" href="tips.html#extrapolation-for-raw-operation"><span class="std std-ref">extrapolation for raw data</span></a>.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">disableExtrapol</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="nx">disableExtrapol</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="hideinvalid">
<h3><em>hideInvalid</em><a class="headerlink" href="#hideinvalid" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="hidInvalid">
<span class="sig-name descname"><span class="pre">hidInvalid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boolean</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hidInvalid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Hide the sample data whose severity is invalid with a null value.
<a class="reference internal" href="configuration.html#misc"><span class="std std-ref">Default setting</span></a> can be overwritten by this function.
This function is only effective if you are using the backend data retrieval and data is not string or array.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">hideInvalid</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="nx">hideInvalid</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="arrayformat">
<h3><em>arrayFormat</em><a class="headerlink" href="#arrayformat" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="arrayFormat">
<span class="sig-name descname"><span class="pre">arrayFormat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arrayFormat" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>This function changes a format of array.
There are 3 types of format: <code class="docutils literal notranslate"><span class="pre">timeseries</span></code>, <code class="docutils literal notranslate"><span class="pre">index</span></code>, and <code class="docutils literal notranslate"><span class="pre">dt-space</span></code>.</p>
<p>See <a class="reference external" href="https://github.com/sasaki77/archiverappliance-datasource/issues/83">Waveform visualization · Issue #83 · sasaki77/archiverappliance-datasource</a> for details and hitory.</p>
<section id="timeseries">
<h4>timeseries<a class="headerlink" href="#timeseries" title="Permalink to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">timeseries</span></code> format, the default format of array, has a time column and columns for each element of the array.
Following is an example of array data for a PV that has 361 elements.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>time</p></th>
<th class="head"><p>PV:NAME[0]</p></th>
<th class="head"><p>PV:NAME[1]</p></th>
<th class="head"><p>…</p></th>
<th class="head"><p>PV:NAME[360]</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1577804410000</p></td>
<td><p>val1_1</p></td>
<td><p>val1_2</p></td>
<td><p>…</p></td>
<td><p>val1_361</p></td>
</tr>
<tr class="row-odd"><td><p>1577804510000</p></td>
<td><p>val2_1</p></td>
<td><p>val2_2</p></td>
<td><p>…</p></td>
<td><p>val2_361</p></td>
</tr>
</tbody>
</table>
</section>
<section id="index">
<h4>index<a class="headerlink" href="#index" title="Permalink to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">index</span></code> format has a index column and columns for array data at each sampling time.
Column name for each sampling time is a RFC3339-style time format.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>index</p></th>
<th class="head"><p>2020-01-01T00:00:10.000Z</p></th>
<th class="head"><p>2020-01-01T00:01:50.000Z</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>val1_1</p></td>
<td><p>val2_1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>val1_2</p></td>
<td><p>val2_2</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p>360</p></td>
<td><p>val1_361</p></td>
<td><p>val2_361</p></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">series</span></code> panel can’t show a plot with this format, but <code class="docutils literal notranslate"><span class="pre">XY</span> <span class="pre">chart</span></code> panel can show the data with the x-axis as index.</p>
<p><img alt="index format of array" src="_images/array-format-index.png" /></p>
</section>
<section id="dt-space">
<h4>dt-space<a class="headerlink" href="#dt-space" title="Permalink to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">dt-space</span></code> format transforms multiple datapoints into a single timeseries data.
It creates a new time vector starting from the sampling time. Timestamp of Nth elements of the array is reproduced with (<code class="docutils literal notranslate"><span class="pre">sampling</span> <span class="pre">time</span></code> + <code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">milliseconds</span></code>).</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>time</p></th>
<th class="head"><p>PV:NAME</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1577804410000</p></td>
<td><p>val1_1</p></td>
</tr>
<tr class="row-odd"><td><p>1577804410001</p></td>
<td><p>val1_2</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p>1577804410360</p></td>
<td><p>val1_361</p></td>
</tr>
<tr class="row-even"><td><p>1577804510000</p></td>
<td><p>val2_1</p></td>
</tr>
<tr class="row-odd"><td><p>1577804510001</p></td>
<td><p>val2_2</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p>1577804510360</p></td>
<td><p>val2_361</p></td>
</tr>
</tbody>
</table>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">arrayFormat</span><span class="p">(</span><span class="nx">timeseries</span><span class="p">)</span>
<span class="nx">arrayFormat</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span>
<span class="nx">arrayFormat</span><span class="p">(</span><span class="nx">dt</span><span class="o">-</span><span class="nx">space</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="ignoreemptyerr">
<h3><em>ignoreEmptyErr</em><a class="headerlink" href="#ignoreemptyerr" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="ignoreEmptyErr">
<span class="sig-name descname"><span class="pre">ignoreEmptyErr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boolean</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ignoreEmptyErr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Ignore <code class="docutils literal notranslate"><span class="pre">response</span> <span class="pre">is</span> <span class="pre">empty</span></code> errors.
Archiver Appliance sometimes returns an empty response as follows.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[]</span>
</pre></div>
</div>
<p>The plugin handles such a response as an error.
This function ignores such errors.</p>
<p>Examples:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">ignoreEmptyErr</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="nx">ignoreEmptyErr</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="variables.html" class="btn btn-neutral float-left" title="Variables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tips.html" class="btn btn-neutral float-right" title="Tips" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2024, Shinya Sasaki.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>