/*! For license information please see module.js.LICENSE.txt */
define(["lodash","react","@grafana/data","@grafana/ui","@grafana/runtime"],(function(t,e,n,r,i){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=82)}([function(e,n){e.exports=t},function(t,n){t.exports=e},,function(t,e){t.exports=n},function(t,e){t.exports=r},function(t,e,n){var r;!function(n){"use strict";var i=function(t){return.5*(Math.exp(t)+Math.exp(-t))},o=function(t){return.5*(Math.exp(t)-Math.exp(-t))},a=function(){throw SyntaxError("Invalid Param")};function u(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function s(t,e){if(!(this instanceof s))return new s(t,e);var n=function(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return s.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return s.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):a();break;case"string":n.im=n.re=0;var r=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;null===r&&a();for(var u=0;u<r.length;u++){var c=r[u];" "===c||"\t"===c||"\n"===c||("+"===c?i++:"-"===c?o++:"i"===c||"I"===c?(i+o===0&&a()," "===r[u+1]||isNaN(r[u+1])?n.im+=parseFloat((o%2?"-":"")+"1"):(n.im+=parseFloat((o%2?"-":"")+r[u+1]),u++),i=o=0):((i+o===0||isNaN(c))&&a(),"i"===r[u+1]||"I"===r[u+1]?(n.im+=parseFloat((o%2?"-":"")+c),u++):n.re+=parseFloat((o%2?"-":"")+c),i=o=0))}i+o>0&&a();break;case"number":n.im=0,n.re=t;break;default:a()}return isNaN(n.re)||isNaN(n.im),n}(t,e);this.re=n.re,this.im=n.im}s.prototype={re:0,im:0,sign:function(){var t=this.abs();return new s(this.re/t,this.im/t)},add:function(t,e){var n=new s(t,e);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re+n.re,this.im+n.im)},sub:function(t,e){var n=new s(t,e);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re-n.re,this.im-n.im)},mul:function(t,e){var n=new s(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:0===n.im&&0===this.im?new s(this.re*n.re,0):new s(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){var n=new s(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return s.NAN;if(this.isInfinite()||n.isZero())return s.INFINITY;if(this.isZero()||n.isInfinite())return s.ZERO;t=this.re,e=this.im;var r,i,o=n.re,a=n.im;return 0===a?new s(t/o,e/o):Math.abs(o)<Math.abs(a)?new s((t*(i=o/a)+e)/(r=o*i+a),(e*i-t)/r):new s((t+e*(i=a/o))/(r=a*i+o),(e-t*i)/r)},pow:function(t,e){var n=new s(t,e);if(t=this.re,e=this.im,n.isZero())return s.ONE;if(0===n.im){if(0===e&&t>=0)return new s(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new s(Math.pow(e,n.re),0);case 1:return new s(0,Math.pow(e,n.re));case 2:return new s(-Math.pow(e,n.re),0);case 3:return new s(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return s.ZERO;var r=Math.atan2(e,t),i=u(t,e);return t=Math.exp(n.re*i-n.im*r),e=n.im*i+n.re*r,new s(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new s(Math.sqrt(n),0);t=.5*Math.sqrt(2*(i+n))}else t=Math.abs(r)/Math.sqrt(2*(i-n));return e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new s(t,r<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new s(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new s(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new s(u(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,n=Math.abs(t),r=Math.abs(e),n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=t/e):r=e/t,n*Math.sqrt(1+r*r));var t,e,n,r},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new s(Math.sin(t)*i(e),Math.cos(t)*o(e))},cos:function(){var t=this.re,e=this.im;return new s(Math.cos(t)*i(e),-Math.sin(t)*o(e))},tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+i(e);return new s(Math.sin(t)/n,o(e)/n)},cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-i(e);return new s(-Math.sin(t)/n,o(e)/n)},sec:function(){var t=this.re,e=this.im,n=.5*i(2*e)+.5*Math.cos(2*t);return new s(Math.cos(t)*i(e)/n,Math.sin(t)*o(e)/n)},csc:function(){var t=this.re,e=this.im,n=.5*i(2*e)-.5*Math.cos(2*t);return new s(Math.sin(t)*i(e)/n,-Math.cos(t)*o(e)/n)},asin:function(){var t=this.re,e=this.im,n=new s(e*e-t*t+1,-2*t*e).sqrt(),r=new s(n.re-e,n.im+t).log();return new s(r.im,-r.re)},acos:function(){var t=this.re,e=this.im,n=new s(e*e-t*t+1,-2*t*e).sqrt(),r=new s(n.re-e,n.im+t).log();return new s(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new s(0,1/0);if(-1===e)return new s(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new s((1-e*e-t*t)/n,-2*t/n).log();return new s(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new s(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).atan():new s(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,1/0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).acos():new s(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).asin():new s(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new s(o(t)*Math.cos(e),i(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new s(i(t)*Math.cos(e),o(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,n=i(t)+Math.cos(e);return new s(o(t)/n,Math.sin(e)/n)},coth:function(){var t=2*this.re,e=2*this.im,n=i(t)-Math.cos(e);return new s(o(t)/n,-Math.sin(e)/n)},csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-i(2*t);return new s(-2*o(t)*Math.cos(e)/n,2*i(t)*Math.sin(e)/n)},sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+i(2*t);return new s(2*i(t)*Math.cos(e)/n,-2*o(t)*Math.sin(e)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,i=1+t,o=r*r+e*e,a=0!==o?new s((i*r-e*e)/o,(e*r+i*e)/o):new s(-1!==t?t/0:0,0!==e?e/0:0),c=a.re;return a.re=u(a.re,a.im)/2,a.im=Math.atan2(a.im,c)/2,n&&(a.im=-a.im),a},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).atanh():new s(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new s(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).asinh():new s(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return s.INFINITY;var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).acosh():new s(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new s(t/n,-e/n)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new s(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new s(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new s(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var n=new s(t,e);return Math.abs(n.re-this.re)<=s.EPSILON&&Math.abs(n.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==t&&(n+=t),0!==e&&(0!==t?n+=e<0?" - ":" + ":e<0&&(n+="-"),1!==(e=Math.abs(e))&&(n+=e),n+="i"),n||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-16,void 0===(r=function(){return s}.apply(e,[]))||(t.exports=r)}()},function(t,e){t.exports=i},function(t,e,n){var r;!function(n){"use strict";var i={s:1,n:0,d:1};function o(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function n(){}return n.prototype=Error.prototype,e.prototype=new n,e}var a=p.DivisionByZero=o("DivisionByZero"),u=p.InvalidParameter=o("InvalidParameter");function s(t,e){return isNaN(t=parseInt(t,10))&&c(),t*e}function c(){throw new u}var f=function(t,e){var n,r=0,o=1,u=1,f=0,l=0,p=0,h=1,d=1,g=0,m=1,v=1,y=1,w=1e7;if(null==t);else if(void 0!==e)u=(r=t)*(o=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(r=t.n,o=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(o=t[1])):c(),u=r*o;break;case"number":if(t<0&&(u=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));m<=w&&y<=w;){if(t===(n=(g+v)/(m+y))){m+y<=w?(r=g+v,o=m+y):y>m?(r=v,o=y):(r=g,o=m);break}t>n?(g+=v,m+=y):(v+=g,y+=m),m>w?(r=v,o=y):(r=g,o=m)}r*=d}else(isNaN(t)||isNaN(e))&&(o=r=NaN);break;case"string":if(null===(m=t.match(/\d+|./g))&&c(),"-"===m[g]?(u=-1,g++):"+"===m[g]&&g++,m.length===g+1?l=s(m[g++],u):"."===m[g+1]||"."===m[g]?("."!==m[g]&&(f=s(m[g++],u)),(++g+1===m.length||"("===m[g+1]&&")"===m[g+3]||"'"===m[g+1]&&"'"===m[g+3])&&(l=s(m[g],u),h=Math.pow(10,m[g].length),g++),("("===m[g]&&")"===m[g+2]||"'"===m[g]&&"'"===m[g+2])&&(p=s(m[g+1],u),d=Math.pow(10,m[g+1].length)-1,g+=3)):"/"===m[g+1]||":"===m[g+1]?(l=s(m[g],u),h=s(m[g+2],1),g+=3):"/"===m[g+3]&&" "===m[g+1]&&(f=s(m[g],u),l=s(m[g+2],u),h=s(m[g+4],1),g+=5),m.length<=g){u=r=p+(o=h*d)*f+d*l;break}default:c()}if(0===o)throw new a;i.s=u<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(o)};function l(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function p(t,e){if(!(this instanceof p))return new p(t,e);f(t,e),t=p.REDUCE?l(i.d,i.n):1,this.s=i.s,this.n=i.n/t,this.d=i.d/t}p.REDUCE=1,p.prototype={s:1,n:0,d:1,abs:function(){return new p(this.n,this.d)},neg:function(){return new p(-this.s*this.n,this.d)},add:function(t,e){return f(t,e),new p(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(t,e){return f(t,e),new p(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(t,e){return f(t,e),new p(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(t,e){return f(t,e),new p(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new p(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new p(NaN):void 0===t?new p(this.s*this.n%this.d,1):(f(t,e),0===i.n&&0===this.d&&p(0,0),new p(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(t,e){return f(t,e),new p(l(i.n,this.n)*l(i.d,this.d),i.d*this.d)},lcm:function(t,e){return f(t,e),0===i.n&&0===this.n?new p:new p(i.n*this.n,l(i.n,this.n)*l(i.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new p(this.s*this.d,this.n)},pow:function(t){return t<0?new p(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new p(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return f(t,e),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(t,e){f(t,e);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function n(t){return 1===t.length?new p(t[0]):n(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var r=0;r<e.length;r++){var i=n(e.slice(0,r+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return f(t,e),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(this.n)||isNaN(this.d))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";p.REDUCE||(n/=e=l(n,r),r/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,r),o=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0}(0,r,i),a=-1===this.s?"-":"";if(a+=n/r|0,n%=r,(n*=10)&&(a+="."),i){for(var u=o;u--;)a+=n/r|0,n%=r,n*=10;a+="(";for(u=i;u--;)a+=n/r|0,n%=r,n*=10;a+=")"}else for(u=t;n&&u--;)a+=n/r|0,n%=r,n*=10;return a}},void 0===(r=function(){return p}.apply(e,[]))||(t.exports=r)}()},function(t,e){t.exports=function t(e,n){"use strict";var r,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,c=/^0/,f=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},l=f(e).replace(a,"")||"",p=f(n).replace(a,"")||"",h=l.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=p.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(l.match(s),16)||1!==h.length&&l.match(u)&&Date.parse(l),m=parseInt(p.match(s),16)||g&&p.match(u)&&Date.parse(p)||null;if(m){if(g<m)return-1;if(g>m)return 1}for(var v=0,y=Math.max(h.length,d.length);v<y;v++){if(r=!(h[v]||"").match(c)&&parseFloat(h[v])||h[v]||0,i=!(d[v]||"").match(c)&&parseFloat(d[v])||d[v]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!=typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},function(t,e,n){var r;!function(i){"use strict";var o,a,u,s=9e15,c="0123456789abcdef",f="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",l="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-s,maxE:s,crypto:!1},h=!0,d="[DecimalError] Invalid argument: ",g=Math.floor,m=Math.pow,v=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,y=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,w=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,b=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,x=1e7,S=f.length-1,M=l.length-1,_={name:"[object Decimal]"};function N(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)(n=7-(r=t[e]+"").length)&&(o+=k(n)),o+=r;(n=7-(r=(a=t[e])+"").length)&&(o+=k(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function E(t,e,n){if(t!==~~t||t<e||t>n)throw Error(d+t)}function O(t,e,n,r){var i,o,a,u;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),o=m(10,7-e),u=t[i]%o|0,null==r?e<3?(0==e?u=u/100|0:1==e&&(u=u/10|0),a=n<4&&99999==u||n>3&&49999==u||5e4==u||0==u):a=(n<4&&u+1==o||n>3&&u+1==o/2)&&(t[i+1]/o/100|0)==m(10,e-2)-1||(u==o/2||0==u)&&0==(t[i+1]/o/100|0):e<4?(0==e?u=u/1e3|0:1==e?u=u/100|0:2==e&&(u=u/10|0),a=(r||n<4)&&9999==u||!r&&n>3&&4999==u):a=((r||n<4)&&u+1==o||!r&&n>3&&u+1==o/2)&&(t[i+1]/o/1e3|0)==m(10,e-3)-1,a}function P(t,e,n){for(var r,i,o=[0],a=0,u=t.length;a<u;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=c.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}_.absoluteValue=_.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),C(t)},_.ceil=function(){return C(new this.constructor(this),this.e+1,2)},_.comparedTo=_.cmp=function(t){var e,n,r,i,o=this,a=o.d,u=(t=new o.constructor(t)).d,s=o.s,c=t.s;if(!a||!u)return s&&c?s!==c?s:a===u?0:!a^s<0?1:-1:NaN;if(!a[0]||!u[0])return a[0]?s:u[0]?-c:0;if(s!==c)return s;if(o.e!==t.e)return o.e>t.e^s<0?1:-1;for(e=0,n=(r=a.length)<(i=u.length)?r:i;e<n;++e)if(a[e]!==u[e])return a[e]>u[e]^s<0?1:-1;return r===i?0:r>i^s<0?1:-1},_.cosine=_.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(t,e){var n,r,i=e.d.length;i<32?(n=Math.ceil(i/3),r=(1/$(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10");t.precision+=n,e=Z(t,1,e.times(r),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}(r,W(r,n)),r.precision=t,r.rounding=e,C(2==u||3==u?n.neg():n,t,e,!0)):new r(1):new r(NaN)},_.cubeRoot=_.cbrt=function(){var t,e,n,r,i,o,a,u,s,c,f=this,l=f.constructor;if(!f.isFinite()||f.isZero())return new l(f);for(h=!1,(o=f.s*m(f.s*f,1/3))&&Math.abs(o)!=1/0?r=new l(o.toString()):(n=N(f.d),(o=((t=f.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=m(n,1/3),t=g((t+1)/3)-(t%3==(t<0?-1:2)),(r=new l(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=f.s),a=(t=l.precision)+3;;)if(c=(s=(u=r).times(u).times(u)).plus(f),r=I(c.plus(f).times(u),c.plus(s),a+2,1),N(u.d).slice(0,a)===(n=N(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(C(r,t+1,1),e=!r.times(r).times(r).eq(f));break}if(!i&&(C(u,t+1,0),u.times(u).times(u).eq(f))){r=u;break}a+=4,i=1}return h=!0,C(r,t,l.rounding,e)},_.decimalPlaces=_.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=7*((t=e.length-1)-g(this.e/7)),t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},_.dividedBy=_.div=function(t){return I(this,new this.constructor(t))},_.dividedToIntegerBy=_.divToInt=function(t){var e=this.constructor;return C(I(this,new e(t),0,1,1),e.precision,e.rounding)},_.equals=_.eq=function(t){return 0===this.cmp(t)},_.floor=function(){return C(new this.constructor(this),this.e+1,3)},_.greaterThan=_.gt=function(t){return this.cmp(t)>0},_.greaterThanOrEqualTo=_.gte=function(t){var e=this.cmp(t);return 1==e||0===e},_.hyperbolicCosine=_.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,u=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return u;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?e=(1/$(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),o=Z(a,1,o.times(e),new a(1),!0);for(var s,c=t,f=new a(8);c--;)s=o.times(o),o=u.minus(s.times(f.minus(s.times(f))));return C(o,a.precision=n,a.rounding=r,!0)},_.hyperbolicSine=_.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Z(o,2,i,i,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,i=Z(o,2,i=i.times(1/$(5,t)),i,!0);for(var a,u=new o(5),s=new o(16),c=new o(20);t--;)a=i.times(i),i=i.times(u.plus(a.times(s.times(a).plus(c))))}return o.precision=e,o.rounding=n,C(i,e,n,!0)},_.hyperbolicTangent=_.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,I(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},_.inverseCosine=_.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?F(n,i,o):new n(0):new n(NaN):e.isZero()?F(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=F(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},_.inverseHyperbolicCosine=_.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,h=!1,n=n.times(n).minus(1).sqrt().plus(n),h=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},_.inverseHyperbolicSine=_.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,h=!1,n=n.times(n).plus(1).sqrt().plus(n),h=!0,r.precision=t,r.rounding=e,n.ln())},_.inverseHyperbolicTangent=_.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?C(new o(i),t,e,!0):(o.precision=n=r-i.e,i=I(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},_.inverseSine=_.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?((t=F(o,n+4,r).times(.5)).s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},_.inverseTangent=_.atan=function(){var t,e,n,r,i,o,a,u,s,c=this,f=c.constructor,l=f.precision,p=f.rounding;if(c.isFinite()){if(c.isZero())return new f(c);if(c.abs().eq(1)&&l+4<=M)return(a=F(f,l+4,p).times(.25)).s=c.s,a}else{if(!c.s)return new f(NaN);if(l+4<=M)return(a=F(f,l+4,p).times(.5)).s=c.s,a}for(f.precision=u=l+10,f.rounding=1,t=n=Math.min(28,u/7+2|0);t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(h=!1,e=Math.ceil(u/7),r=1,s=c.times(c),a=new f(c),i=c;-1!==t;)if(i=i.times(s),o=a.minus(i.div(r+=2)),i=i.times(s),void 0!==(a=o.plus(i.div(r+=2))).d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),h=!0,C(a,f.precision=l,f.rounding=p,!0)},_.isFinite=function(){return!!this.d},_.isInteger=_.isInt=function(){return!!this.d&&g(this.e/7)>this.d.length-2},_.isNaN=function(){return!this.s},_.isNegative=_.isNeg=function(){return this.s<0},_.isPositive=_.isPos=function(){return this.s>0},_.isZero=function(){return!!this.d&&0===this.d[0]},_.lessThan=_.lt=function(t){return this.cmp(t)<0},_.lessThanOrEqualTo=_.lte=function(t){return this.cmp(t)<1},_.logarithm=_.log=function(t){var e,n,r,i,o,a,u,s,c=this.constructor,f=c.precision,l=c.rounding;if(null==t)t=new c(10),e=!0;else{if(n=(t=new c(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new c(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(h=!1,a=U(this,u=f+5),r=e?D(c,u+10):U(t,u),O((s=I(a,r,u,1)).d,i=f,l))do{if(a=U(this,u+=10),r=e?D(c,u+10):U(t,u),s=I(a,r,u,1),!o){+N(s.d).slice(i+1,i+15)+1==1e14&&(s=C(s,f+1,0));break}}while(O(s.d,i+=10,l));return h=!0,C(s,f,l)},_.minus=_.sub=function(t){var e,n,r,i,o,a,u,s,c,f,l,p,d=this,m=d.constructor;if(t=new m(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new m(t.d||d.s!==t.s?d:NaN):t=new m(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(c=d.d,p=t.d,u=m.precision,s=m.rounding,!c[0]||!p[0]){if(p[0])t.s=-t.s;else{if(!c[0])return new m(3===s?-0:0);t=new m(d)}return h?C(t,u,s):t}if(n=g(t.e/7),f=g(d.e/7),c=c.slice(),o=f-n){for((l=o<0)?(e=c,o=-o,a=p.length):(e=p,n=f,a=c.length),o>(r=Math.max(Math.ceil(u/7),a)+2)&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((l=(r=c.length)<(a=p.length))&&(a=r),r=0;r<a;r++)if(c[r]!=p[r]){l=c[r]<p[r];break}o=0}for(l&&(e=c,c=p,p=e,t.s=-t.s),a=c.length,r=p.length-a;r>0;--r)c[a++]=0;for(r=p.length;r>o;){if(c[--r]<p[r]){for(i=r;i&&0===c[--i];)c[i]=x-1;--c[i],c[r]+=x}c[r]-=p[r]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=A(c,n),h?C(t,u,s):t):new m(3===s?-0:0)},_.modulo=_.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?C(new r(n),r.precision,r.rounding):(h=!1,9==r.modulo?(e=I(n,t.abs(),0,3,1)).s*=t.s:e=I(n,t,0,r.modulo,1),e=e.times(t),h=!0,n.minus(e))},_.naturalExponential=_.exp=function(){return B(this)},_.naturalLogarithm=_.ln=function(){return U(this)},_.negated=_.neg=function(){var t=new this.constructor(this);return t.s=-t.s,C(t)},_.plus=_.add=function(t){var e,n,r,i,o,a,u,s,c,f,l=this,p=l.constructor;if(t=new p(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new p(t.d||l.s===t.s?l:NaN)):t=new p(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(c=l.d,f=t.d,u=p.precision,s=p.rounding,!c[0]||!f[0])return f[0]||(t=new p(l)),h?C(t,u,s):t;if(o=g(l.e/7),r=g(t.e/7),c=c.slice(),i=o-r){for(i<0?(n=c,i=-i,a=f.length):(n=f,r=o,a=c.length),i>(a=(o=Math.ceil(u/7))>a?o+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=c.length)-(i=f.length)<0&&(i=a,n=f,f=c,c=n),e=0;i;)e=(c[--i]=c[i]+f[i]+e)/x|0,c[i]%=x;for(e&&(c.unshift(e),++r),a=c.length;0==c[--a];)c.pop();return t.d=c,t.e=A(c,r),h?C(t,u,s):t},_.precision=_.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(d+t);return n.d?(e=R(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},_.round=function(){var t=this,e=t.constructor;return C(new e(t),t.e+1,e.rounding)},_.sine=_.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return Z(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=e.times(1/$(5,n)),e=Z(t,2,e,e);for(var i,o=new t(5),a=new t(16),u=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(u))));return e}(r,W(r,n)),r.precision=t,r.rounding=e,C(u>2?n.neg():n,t,e,!0)):new r(NaN)},_.squareRoot=_.sqrt=function(){var t,e,n,r,i,o,a=this,u=a.d,s=a.e,c=a.s,f=a.constructor;if(1!==c||!u||!u[0])return new f(!c||c<0&&(!u||u[0])?NaN:u?a:1/0);for(h=!1,0==(c=Math.sqrt(+a))||c==1/0?(((e=N(u)).length+s)%2==0&&(e+="0"),c=Math.sqrt(e),s=g((s+1)/2)-(s<0||s%2),r=new f(e=c==1/0?"5e"+s:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+s)):r=new f(c.toString()),n=(s=f.precision)+3;;)if(r=(o=r).plus(I(a,o,n+2,1)).times(.5),N(o.d).slice(0,n)===(e=N(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(C(r,s+1,1),t=!r.times(r).eq(a));break}if(!i&&(C(o,s+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return h=!0,C(r,s,f.rounding,t)},_.tangent=_.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=I(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,C(2==u||4==u?n.neg():n,t,e,!0)):new r(NaN)},_.times=_.mul=function(t){var e,n,r,i,o,a,u,s,c,f=this,l=f.constructor,p=f.d,d=(t=new l(t)).d;if(t.s*=f.s,!(p&&p[0]&&d&&d[0]))return new l(!t.s||p&&!p[0]&&!d||d&&!d[0]&&!p?NaN:p&&d?0*t.s:t.s/0);for(n=g(f.e/7)+g(t.e/7),(s=p.length)<(c=d.length)&&(o=p,p=d,d=o,a=s,s=c,c=a),o=[],r=a=s+c;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=s+r;i>r;)u=o[i]+d[r]*p[i-r-1]+e,o[i--]=u%x|0,e=u/x|0;o[i]=(o[i]+e)%x|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=A(o,n),h?C(t,l.precision,l.rounding):t},_.toBinary=function(t,e){return Q(this,2,t,e)},_.toDecimalPlaces=_.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(E(t,0,1e9),void 0===e?e=r.rounding:E(e,0,8),C(n,t+n.e+1,e))},_.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=j(r,!0):(E(t,0,1e9),void 0===e?e=i.rounding:E(e,0,8),n=j(r=C(new i(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},_.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=j(i):(E(t,0,1e9),void 0===e?e=o.rounding:E(e,0,8),n=j(r=C(new o(i),t+i.e+1,e),!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},_.toFraction=function(t){var e,n,r,i,o,a,u,s,c,f,l,p,g=this,v=g.d,y=g.constructor;if(!v)return new y(g);if(c=n=new y(1),r=s=new y(0),a=(o=(e=new y(r)).e=R(v)-g.e-1)%7,e.d[0]=m(10,a<0?7+a:a),null==t)t=o>0?e:c;else{if(!(u=new y(t)).isInt()||u.lt(c))throw Error(d+u);t=u.gt(e)?o>0?e:c:u}for(h=!1,u=new y(N(v)),f=y.precision,y.precision=o=7*v.length*2;l=I(u,e,0,1,1),1!=(i=n.plus(l.times(r))).cmp(t);)n=r,r=i,i=c,c=s.plus(l.times(i)),s=i,i=e,e=u.minus(l.times(i)),u=i;return i=I(t.minus(n),r,0,1,1),s=s.plus(i.times(c)),n=n.plus(i.times(r)),s.s=c.s=g.s,p=I(c,r,o,1).minus(g).abs().cmp(I(s,n,o,1).minus(g).abs())<1?[c,r]:[s,n],y.precision=f,h=!0,p},_.toHexadecimal=_.toHex=function(t,e){return Q(this,16,t,e)},_.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:E(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(h=!1,n=I(n,t,0,e,1).times(t),h=!0,C(n)):(t.s=n.s,n=t),n},_.toNumber=function(){return+this},_.toOctal=function(t,e){return Q(this,8,t,e)},_.toPower=_.pow=function(t){var e,n,r,i,o,a,u=this,s=u.constructor,c=+(t=new s(t));if(!(u.d&&t.d&&u.d[0]&&t.d[0]))return new s(m(+u,c));if((u=new s(u)).eq(1))return u;if(r=s.precision,o=s.rounding,t.eq(1))return C(u,r,o);if((e=g(t.e/7))>=t.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=z(s,u,n,r),t.s<0?new s(1).div(i):C(i,r,o);if((a=u.s)<0){if(e<t.d.length-1)return new s(NaN);if(0==(1&t.d[e])&&(a=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=a,u}return(e=0!=(n=m(+u,c))&&isFinite(n)?new s(n+"").e:g(c*(Math.log("0."+N(u.d))/Math.LN10+u.e+1)))>s.maxE+1||e<s.minE-1?new s(e>0?a/0:0):(h=!1,s.rounding=u.s=1,n=Math.min(12,(e+"").length),(i=B(t.times(U(u,r+n)),r)).d&&O((i=C(i,r+5,1)).d,r,o)&&(e=r+10,+N((i=C(B(t.times(U(u,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=C(i,r+1,0))),i.s=a,h=!0,s.rounding=o,C(i,r,o))},_.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=j(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(E(t,1,1e9),void 0===e?e=i.rounding:E(e,0,8),n=j(r=C(new i(r),t,e),t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},_.toSignificantDigits=_.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(E(t,1,1e9),void 0===e?e=n.rounding:E(e,0,8)),C(new n(this),t,e)},_.toString=function(){var t=this,e=t.constructor,n=j(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},_.truncated=_.trunc=function(){return C(new this.constructor(this),this.e+1,1)},_.valueOf=_.toJSON=function(){var t=this,e=t.constructor,n=j(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var I=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,u,s,c){var f,l,p,h,d,m,v,y,w,b,S,M,_,N,E,O,P,I,j,A,D=r.constructor,F=r.s==i.s?1:-1,R=r.d,k=i.d;if(!(R&&R[0]&&k&&k[0]))return new D(r.s&&i.s&&(R?!k||R[0]!=k[0]:k)?R&&0==R[0]||!k?0*F:F/0:NaN);for(c?(d=1,l=r.e-i.e):(c=x,d=7,l=g(r.e/d)-g(i.e/d)),j=k.length,P=R.length,b=(w=new D(F)).d=[],p=0;k[p]==(R[p]||0);p++);if(k[p]>(R[p]||0)&&l--,null==o?(N=o=D.precision,u=D.rounding):N=s?o+(r.e-i.e)+1:o,N<0)b.push(1),m=!0;else{if(N=N/d+2|0,p=0,1==j){for(h=0,k=k[0],N++;(p<P||h)&&N--;p++)E=h*c+(R[p]||0),b[p]=E/k|0,h=E%k|0;m=h||p<P}else{for((h=c/(k[0]+1)|0)>1&&(k=t(k,h,c),R=t(R,h,c),j=k.length,P=R.length),O=j,M=(S=R.slice(0,j)).length;M<j;)S[M++]=0;(A=k.slice()).unshift(0),I=k[0],k[1]>=c/2&&++I;do{h=0,(f=e(k,S,j,M))<0?(_=S[0],j!=M&&(_=_*c+(S[1]||0)),(h=_/I|0)>1?(h>=c&&(h=c-1),1==(f=e(v=t(k,h,c),S,y=v.length,M=S.length))&&(h--,n(v,j<y?A:k,y,c))):(0==h&&(f=h=1),v=k.slice()),(y=v.length)<M&&v.unshift(0),n(S,v,M,c),-1==f&&(f=e(k,S,j,M=S.length))<1&&(h++,n(S,j<M?A:k,M,c)),M=S.length):0===f&&(h++,S=[0]),b[p++]=h,f&&S[0]?S[M++]=R[O]||0:(S=[R[O]],M=1)}while((O++<P||void 0!==S[0])&&N--);m=void 0!==S[0]}b[0]||b.shift()}if(1==d)w.e=l,a=m;else{for(p=1,h=b[0];h>=10;h/=10)p++;w.e=p+l*d-1,C(w,s?o+w.e+1:o,u,m)}return w}}();function C(t,e,n,r){var i,o,a,u,s,c,f,l,p,d=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(i=1,u=l[0];u>=10;u/=10)i++;if((o=e-i)<0)o+=7,a=e,s=(f=l[p=0])/m(10,i-a-1)%10|0;else if((p=Math.ceil((o+1)/7))>=(u=l.length)){if(!r)break t;for(;u++<=p;)l.push(0);f=s=0,i=1,a=(o%=7)-7+1}else{for(f=u=l[p],i=1;u>=10;u/=10)i++;s=(a=(o%=7)-7+i)<0?0:f/m(10,i-a-1)%10|0}if(r=r||e<0||void 0!==l[p+1]||(a<0?f:f%m(10,i-a-1)),c=n<4?(s||r)&&(0==n||n==(t.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(o>0?a>0?f/m(10,i-a):0:l[p-1])%10&1||n==(t.s<0?8:7)),e<1||!l[0])return l.length=0,c?(e-=t.e+1,l[0]=m(10,(7-e%7)%7),t.e=-e||0):l[0]=t.e=0,t;if(0==o?(l.length=p,u=1,p--):(l.length=p+1,u=m(10,7-o),l[p]=a>0?(f/m(10,i-a)%m(10,a)|0)*u:0),c)for(;;){if(0==p){for(o=1,a=l[0];a>=10;a/=10)o++;for(a=l[0]+=u,u=1;a>=10;a/=10)u++;o!=u&&(t.e++,l[0]==x&&(l[0]=1));break}if(l[p]+=u,l[p]!=x)break;l[p--]=0,u=1}for(o=l.length;0===l[--o];)l.pop()}return h&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function j(t,e,n){if(!t.isFinite())return L(t);var r,i=t.e,o=N(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+k(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+k(-i-1)+o,n&&(r=n-a)>0&&(o+=k(r))):i>=a?(o+=k(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+k(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=k(r))),o}function A(t,e){var n=t[0];for(e*=7;n>=10;n/=10)e++;return e}function D(t,e,n){if(e>S)throw h=!0,n&&(t.precision=n),Error("[DecimalError] Precision limit exceeded");return C(new t(f),e,1,!0)}function F(t,e,n){if(e>M)throw Error("[DecimalError] Precision limit exceeded");return C(new t(l),e,n,!0)}function R(t){var e=t.length-1,n=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function k(t){for(var e="";t--;)e+="0";return e}function z(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/7+4);for(h=!1;;){if(n%2&&K((o=o.times(e)).d,a)&&(i=!0),0===(n=g(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}K((e=e.times(e)).d,a)}return h=!0,o}function T(t){return 1&t.d[t.d.length-1]}function q(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(!(r=new t(e[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function B(t,e){var n,r,i,o,a,u,s,c=0,f=0,l=0,p=t.constructor,d=p.rounding,g=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(h=!1,s=g):s=e,u=new p(.03125);t.e>-2;)t=t.times(u),l+=5;for(s+=r=Math.log(m(2,l))/Math.LN10*2+5|0,n=o=a=new p(1),p.precision=s;;){if(o=C(o.times(t),s,1),n=n.times(++f),N((u=a.plus(I(o,n,s,1))).d).slice(0,s)===N(a.d).slice(0,s)){for(i=l;i--;)a=C(a.times(a),s,1);if(null!=e)return p.precision=g,a;if(!(c<3&&O(a.d,s-r,d,c)))return C(a,p.precision=g,d,h=!0);p.precision=s+=10,n=o=u=new p(1),f=0,c++}a=u}}function U(t,e){var n,r,i,o,a,u,s,c,f,l,p,d=1,g=t,m=g.d,v=g.constructor,y=v.rounding,w=v.precision;if(g.s<0||!m||!m[0]||!g.e&&1==m[0]&&1==m.length)return new v(m&&!m[0]?-1/0:1!=g.s?NaN:m?0:g);if(null==e?(h=!1,f=w):f=e,v.precision=f+=10,r=(n=N(m)).charAt(0),!(Math.abs(o=g.e)<15e14))return c=D(v,f+2,w).times(o+""),g=U(new v(r+"."+n.slice(1)),f-10).plus(c),v.precision=w,null==e?C(g,w,y,h=!0):g;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=N((g=g.times(t)).d)).charAt(0),d++;for(o=g.e,r>1?(g=new v("0."+n),o++):g=new v(r+"."+n.slice(1)),l=g,s=a=g=I(g.minus(1),g.plus(1),f,1),p=C(g.times(g),f,1),i=3;;){if(a=C(a.times(p),f,1),N((c=s.plus(I(a,new v(i),f,1))).d).slice(0,f)===N(s.d).slice(0,f)){if(s=s.times(2),0!==o&&(s=s.plus(D(v,f+2,w).times(o+""))),s=I(s,new v(d),f,1),null!=e)return v.precision=w,s;if(!O(s.d,f-10,y,u))return C(s,v.precision=w,y,h=!0);v.precision=f+=10,c=a=g=I(l.minus(1),l.plus(1),f,1),p=C(g.times(g),f,1),i=u=1}s=c,i+=2}}function L(t){return String(t.s*t.s/0)}function V(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=7;r<i;)t.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=i;for(;r--;)e+="0";t.d.push(+e),h&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function H(t,e){var n,r,i,a,u,s,c,f,l;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(y.test(e))n=16,e=e.toLowerCase();else if(v.test(e))n=2;else{if(!w.test(e))throw Error(d+e);n=8}for((a=e.search(/p/i))>0?(c=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),u=(a=e.indexOf("."))>=0,r=t.constructor,u&&(a=(s=(e=e.replace(".","")).length)-a,i=z(r,new r(n),a,2*a)),a=l=(f=P(e,n,x)).length-1;0===f[a];--a)f.pop();return a<0?new r(0*t.s):(t.e=A(f,l),t.d=f,h=!1,u&&(t=I(t,i,4*s)),c&&(t=t.times(Math.abs(c)<54?m(2,c):o.pow(2,c))),h=!0,t)}function Z(t,e,n,r,i){var o,a,u,s,c=t.precision,f=Math.ceil(c/7);for(h=!1,s=n.times(n),u=new t(r);;){if(a=I(u.times(s),new t(e++*e++),c,1),u=i?r.plus(a):r.minus(a),r=I(a.times(s),new t(e++*e++),c,1),void 0!==(a=u.plus(r)).d[f]){for(o=f;a.d[o]===u.d[o]&&o--;);if(-1==o)break}o=u,u=r,r=a,a=o}return h=!0,a.d.length=f+1,a}function $(t,e){for(var n=t;--e;)n*=t;return n}function W(t,e){var n,r=e.s<0,i=F(t,t.precision,1),o=i.times(.5);if((e=e.abs()).lte(o))return u=r?4:1,e;if((n=e.divToInt(i)).isZero())u=r?3:2;else{if((e=e.minus(n.times(i))).lte(o))return u=T(n)?r?2:3:r?4:1,e;u=T(n)?r?1:4:r?3:2}return e.minus(i).abs()}function Q(t,e,n,r){var i,o,u,s,f,l,p,h,d,g=t.constructor,m=void 0!==n;if(m?(E(n,1,1e9),void 0===r?r=g.rounding:E(r,0,8)):(n=g.precision,r=g.rounding),t.isFinite()){for(m?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,(u=(p=j(t)).indexOf("."))>=0&&(p=p.replace(".",""),(d=new g(1)).e=p.length-u,d.d=P(j(d),10,i),d.e=d.d.length),o=f=(h=P(p,10,i)).length;0==h[--f];)h.pop();if(h[0]){if(u<0?o--:((t=new g(t)).d=h,t.e=o,h=(t=I(t,d,n,r,0,i)).d,o=t.e,l=a),u=h[n],s=i/2,l=l||void 0!==h[n+1],l=r<4?(void 0!==u||l)&&(0===r||r===(t.s<0?3:2)):u>s||u===s&&(4===r||l||6===r&&1&h[n-1]||r===(t.s<0?8:7)),h.length=n,l)for(;++h[--n]>i-1;)h[n]=0,n||(++o,h.unshift(1));for(f=h.length;!h[f-1];--f);for(u=0,p="";u<f;u++)p+=c.charAt(h[u]);if(m){if(f>1)if(16==e||8==e){for(u=16==e?4:3,--f;f%u;f++)p+="0";for(f=(h=P(p,i,e)).length;!h[f-1];--f);for(u=1,p="1.";u<f;u++)p+=c.charAt(h[u])}else p=p.charAt(0)+"."+p.slice(1);p=p+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)p="0"+p;p="0."+p}else if(++o>f)for(o-=f;o--;)p+="0";else o<f&&(p=p.slice(0,o)+"."+p.slice(o))}else p=m?"0p+0":"0";p=(16==e?"0x":2==e?"0b":8==e?"0o":"")+p}else p=L(t);return t.s<0?"-"+p:p}function K(t,e){if(t.length>e)return t.length=e,!0}function J(t){return new this(t).abs()}function Y(t){return new this(t).acos()}function G(t){return new this(t).acosh()}function X(t,e){return new this(t).plus(e)}function tt(t){return new this(t).asin()}function et(t){return new this(t).asinh()}function nt(t){return new this(t).atan()}function rt(t){return new this(t).atanh()}function it(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?F(this,r,i):new this(0)).s=t.s:!t.d||e.isZero()?(n=F(this,o,1).times(.5)).s=t.s:e.s<0?(this.precision=o,this.rounding=1,n=this.atan(I(t,e,o,1)),e=F(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(I(t,e,o,1)):(n=F(this,o,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function ot(t){return new this(t).cbrt()}function at(t){return C(t=new this(t),t.e+1,2)}function ut(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var e,n,r,i=!0===t.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-s,0,"toExpPos",0,s,"maxE",0,s,"minE",-s,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=p[n]),void 0!==(r=t[n])){if(!(g(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(d+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=p[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(d+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[n]=!0}else this[n]=!1}return this}function st(t){return new this(t).cos()}function ct(t){return new this(t).cosh()}function ft(t,e){return new this(t).div(e)}function lt(t){return new this(t).exp()}function pt(t){return C(t=new this(t),t.e+1,3)}function ht(){var t,e,n=new this(0);for(h=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return h=!0,new this(1/0);n=e}return h=!0,n.sqrt()}function dt(t){return t instanceof o||t&&"[object Decimal]"===t.name||!1}function gt(t){return new this(t).ln()}function mt(t,e){return new this(t).log(e)}function vt(t){return new this(t).log(2)}function yt(t){return new this(t).log(10)}function wt(){return q(this,arguments,"lt")}function bt(){return q(this,arguments,"gt")}function xt(t,e){return new this(t).mod(e)}function St(t,e){return new this(t).mul(e)}function Mt(t,e){return new this(t).pow(e)}function _t(t){var e,n,r,i,o=0,a=new this(1),u=[];if(void 0===t?t=this.precision:E(t,1,1e9),r=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(r*=4);o<r;)(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(u.push(i%1e7),o+=4);o=r/4}else for(;o<r;)u[o++]=1e7*Math.random()|0;for(t%=7,(r=u[--o])&&t&&(i=m(10,7-t),u[o]=(r/i|0)*i);0===u[o];o--)u.pop();if(o<0)n=0,u=[0];else{for(n=-1;0===u[0];n-=7)u.shift();for(r=1,i=u[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return a.e=n,a.d=u,a}function Nt(t){return C(t=new this(t),t.e+1,this.rounding)}function Et(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Ot(t){return new this(t).sin()}function Pt(t){return new this(t).sinh()}function It(t){return new this(t).sqrt()}function Ct(t,e){return new this(t).sub(e)}function jt(t){return new this(t).tan()}function At(t){return new this(t).tanh()}function Dt(t){return C(t=new this(t),t.e+1,1)}(o=function t(e){var n,r,i;function o(t){var e,n,r,i=this;if(!(i instanceof o))return new o(t);if(i.constructor=o,t instanceof o)return i.s=t.s,void(h?!t.d||t.e>o.maxE?(i.e=NaN,i.d=null):t.e<o.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(r=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(h?e>o.maxE?(i.e=NaN,i.d=null):e<o.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):V(i,t.toString())}if("string"!==r)throw Error(d+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===n&&(t=t.slice(1)),i.s=1),b.test(t)?V(i,t):H(i,t)}if(o.prototype=_,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=ut,o.clone=t,o.isDecimal=dt,o.abs=J,o.acos=Y,o.acosh=G,o.add=X,o.asin=tt,o.asinh=et,o.atan=nt,o.atanh=rt,o.atan2=it,o.cbrt=ot,o.ceil=at,o.cos=st,o.cosh=ct,o.div=ft,o.exp=lt,o.floor=pt,o.hypot=ht,o.ln=gt,o.log=mt,o.log10=yt,o.log2=vt,o.max=wt,o.min=bt,o.mod=xt,o.mul=St,o.pow=Mt,o.random=_t,o.round=Nt,o.sign=Et,o.sin=Ot,o.sinh=Pt,o.sqrt=It,o.sub=Ct,o.tan=jt,o.tanh=At,o.trunc=Dt,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return o.config(e),o}(p)).default=o.Decimal=o,f=new o(f),l=new o(l),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){t.exports=n(64)()},function(t,e,n){"use strict";t.exports=n(63).default},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(24),i=n(41),o=n(42),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(25),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(23),i=n(27);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t===e)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!0;var a,u,s={};for(a=0,u=n.length;a<u;a++)s[n[a]]=!0;for(a=0,u=i.length;a<u;a++){var c=i[a],f=t[c],l=e[c];if(f!==l){if(!s[c]||null===f||null===l||"object"!==r(f)||"object"!==r(l))return!0;var p=Object.keys(f),h=Object.keys(l);if(p.length!==h.length)return!0;for(var d=0,g=p.length;d<g;d++){var m=p[d];if(f[m]!==l[m])return!0}}}return!1}},function(t,e,n){"use strict";var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){function t(){return!0}function e(){return!1}function n(){}return function r(){var i=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],o={name:"any",test:t},a=[],u=[],s={types:i,conversions:u,ignore:a};function c(t){var e=q(s.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return o;var n=q(s.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function f(t){return t===o?999:s.types.indexOf(t)}function l(t){var e=q(s.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function p(t){return t.map((function(t){var e=t.types.map(b);return(t.restParam?"...":"")+e.join("|")})).join(",")}function h(t,e){var n=0===t.indexOf("..."),r=(n?t.length>3?t.slice(3):"any":t).split("|").map(A).filter(D).filter(j),i=function(t,e){var n={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||n[t.from]||(n[t.from]=t)})),Object.keys(n).map((function(t){return n[t]}))}(e,r),o=r.map((function(t){var e=c(t);return{name:t,typeIndex:f(e),test:e.test,conversion:null,conversionIndex:-1}})),a=i.map((function(t){var n=c(t.from);return{name:t.from,typeIndex:f(n),test:n.test,conversion:t,conversionIndex:e.indexOf(t)}}));return{types:o.concat(a),restParam:n}}function d(t){var e=k(t);return!!e&&e.restParam}function g(t){return t.types.some((function(t){return null!=t.conversion}))}function m(e){if(e&&0!==e.types.length){if(1===e.types.length)return c(e.types[0].name).test;if(2===e.types.length){var n=c(e.types[0].name).test,r=c(e.types[1].name).test;return function(t){return n(t)||r(t)}}var i=e.types.map((function(t){return c(t.name).test}));return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return!0;return!1}}return t}function v(t){var e,n,r,i;if(d(t)){var o=(e=(i=t,i.slice(0,i.length-1)).map(m)).length,a=m(k(t));return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return function(t){for(var e=o;e<t.length;e++)if(!a(t[e]))return!1;return!0}(t)&&t.length>=o+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=m(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=m(t[0]),r=m(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(m),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function y(t,e){return e<t.params.length?t.params[e]:d(t.params)?k(t.params):null}function w(t,e,n){var r=y(t,e);return(r?n?r.types.filter(x):r.types:[]).map(b)}function b(t){return t.name}function x(t){return null===t.conversion||void 0===t.conversion}function S(t,e){var n=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}(B(t,(function(t){return w(t,e,!1)})));return-1!==n.indexOf("any")?["any"]:n}function M(t,e,n){var r,i,o,a=t||"unnamed",u=n;for(o=0;o<e.length;o++){var s=u.filter((function(t){var n=m(y(t,o));return(o<t.params.length||d(t.params))&&n(e[o])}));if(0===s.length){if((i=S(u,o)).length>0){var c=l(e[o]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+c+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:c,expected:i},r}}else u=s}var f=u.map((function(t){return d(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,f))return i=S(u,o),(r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},r;var p=Math.max.apply(null,f);return e.length>p?((r=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:p},r):((r=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(l)},r)}function _(t){for(var e=999,n=0;n<t.types.length;n++)x(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function N(t){for(var e=999,n=0;n<t.types.length;n++)x(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function E(t,e){var n;return 0!=(n=t.restParam-e.restParam)||0!=(n=g(t)-g(e))||0!=(n=_(t)-_(e))?n:N(t)-N(e)}function O(t,e){var n,r,i=Math.min(t.params.length,e.params.length);if(0!=(r=t.params.some(g)-e.params.some(g)))return r;for(n=0;n<i;n++)if(0!=(r=g(t.params[n])-g(e.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=E(t.params[n],e.params[n])))return r;return t.params.length-e.params.length}function P(t){var e,n,r,i,o=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(o.push(c(t.conversion.from).test),a.push(t.conversion.convert))})),a.length){case 0:return function(t){return t};case 1:return e=o[0],r=a[0],function(t){return e(t)?r(t):t};case 2:return e=o[0],n=o[1],r=a[0],i=a[1],function(t){return e(t)?r(t):n(t)?i(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(o[e](t))return a[e](t);return t}}}function I(t,e){return function t(n,r,i){if(r<n.length){var o,a=n[r],u=e?a.types.filter(x):a.types;if(a.restParam){var s=u.filter(x);o=s.length<u.length?[s,u]:[u]}else o=u.map((function(t){return[t]}));return B(o,(function(e){return t(n,r+1,i.concat([e]))}))}return[i.map((function(t,e){return{types:t,restParam:e===n.length-1&&d(n)}}))]}(t,0,[])}function C(t,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map((function(t){return function(t,e,n){var r=[];return""!==t.trim()&&(r=t.split(",").map(A).map((function(t,e,r){var i=h(t,n);if(i.restParam&&e!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),r.some(R)?null:{params:r,fn:e}}(t,r[t],s.conversions)})).filter(F).forEach((function(t){var e=q(i,(function(e){return function(t,e){for(var n=Math.max(t.params.length,e.params.length),r=0;r<n;r++)if(!T(w(t,r,!0),w(e,r,!0)))return!1;var i=t.params.length,o=e.params.length,a=d(t.params),u=d(e.params);return a?u?i===o:o>=i:u?i>=o:i===o}(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+p(e.params)+'" and "'+p(t.params)+'".');i.push(t)}));var o=B(i,(function(t){return(t?I(t.params,!1):[]).map((function(e){return{params:e,fn:t.fn}}))})).filter(F);o.sort(O);var a=o[0]&&o[0].params.length<=2&&!d(o[0].params),u=o[1]&&o[1].params.length<=2&&!d(o[1].params),c=o[2]&&o[2].params.length<=2&&!d(o[2].params),f=o[3]&&o[3].params.length<=2&&!d(o[3].params),l=o[4]&&o[4].params.length<=2&&!d(o[4].params),y=o[5]&&o[5].params.length<=2&&!d(o[5].params),b=a&&u&&c&&f&&l&&y,x=o.map((function(t){return v(t.params)})),S=a?m(o[0].params[0]):e,_=u?m(o[1].params[0]):e,N=c?m(o[2].params[0]):e,E=f?m(o[3].params[0]):e,C=l?m(o[4].params[0]):e,j=y?m(o[5].params[0]):e,D=a?m(o[0].params[1]):e,k=u?m(o[1].params[1]):e,U=c?m(o[2].params[1]):e,L=f?m(o[3].params[1]):e,V=l?m(o[4].params[1]):e,H=y?m(o[5].params[1]):e,Z=o.map((function(t){return function(t,e){var n=e;if(t.some(g)){var r=d(t),i=t.map(P);n=function(){for(var t=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)t[o]=i[o](arguments[o]);return r&&(t[n]=arguments[n].map(i[n])),e.apply(this,t)}}var o=n;if(d(t)){var a=t.length-1;o=function(){return n.apply(this,z(arguments,0,a).concat([z(arguments,a)]))}}return o}(t.params,t.fn)})),$=a?Z[0]:n,W=u?Z[1]:n,Q=c?Z[2]:n,K=f?Z[3]:n,J=l?Z[4]:n,Y=y?Z[5]:n,G=a?o[0].params.length:-1,X=u?o[1].params.length:-1,tt=c?o[2].params.length:-1,et=f?o[3].params.length:-1,nt=l?o[4].params.length:-1,rt=y?o[5].params.length:-1,it=b?6:0,ot=o.length,at=function(){for(var e=it;e<ot;e++)if(x[e](arguments))return Z[e].apply(this,arguments);throw M(t,arguments,o)},ut=function t(e,n){return arguments.length===G&&S(e)&&D(n)?$.apply(t,arguments):arguments.length===X&&_(e)&&k(n)?W.apply(t,arguments):arguments.length===tt&&N(e)&&U(n)?Q.apply(t,arguments):arguments.length===et&&E(e)&&L(n)?K.apply(t,arguments):arguments.length===nt&&C(e)&&V(n)?J.apply(t,arguments):arguments.length===rt&&j(e)&&H(n)?Y.apply(t,arguments):at.apply(t,arguments)};try{Object.defineProperty(ut,"name",{value:t})}catch(t){}return ut.signatures=function(t){var e={};return t.forEach((function(t){t.params.some(g)||I(t.params,!0).forEach((function(n){e[p(n)]=t.fn}))})),e}(o),ut}function j(t){return-1===s.ignore.indexOf(t)}function A(t){return t.trim()}function D(t){return!!t}function F(t){return null!==t}function R(t){return 0===t.types.length}function k(t){return t[t.length-1]}function z(t,e,n){return Array.prototype.slice.call(t,e,n)}function T(t,e){for(var n=0;n<t.length;n++)if(r=e,i=t[n],-1!==r.indexOf(i))return!0;var r,i;return!1}function q(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function B(t,e){return Array.prototype.concat.apply([],t.map(e))}function U(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(("object"==typeof r.signatures||"string"==typeof r.signature)&&""!==r.name)if(""===e)e=r.name;else if(e!==r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}function L(t){var e,n={};function r(t,r){if(n.hasOwnProperty(t)&&r!==n[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var i=0;i<t.length;i++){var o=t[i];if("object"==typeof o.signatures)for(var a in o.signatures)o.signatures.hasOwnProperty(a)&&(r(a,o.signatures[a]),n[a]=o.signatures[a]);else{if("string"!=typeof o.signature)throw(e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;r(o.signature,o),n[o.signature]=o}}return n}return(s=C("typed",{"string, Object":C,Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return C(U(e),t)},"...Function":function(t){return C(U(t),L(t))},"string, ...Function":function(t,e){return C(t,L(e))}})).create=r,s.types=i,s.conversions=u,s.ignore=a,s.convert=function(t,e){var n=l(t);if(e===n)return t;for(var r=0;r<s.conversions.length;r++){var i=s.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)},s.find=function(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),o=t.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")},s.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var n=0;n<s.types.length;n++)if("Object"===s.types[n].name)return void s.types.splice(n,0,t);s.types.push(t)},s.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");s.conversions.push(t)},s}()})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";(function(e){var n=[],r=void 0===e?window:e,i=Math.pow(256,6),o=Math.pow(2,52),a=2*o,u=Math.random;function s(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);i<256;)a[i]=i++;for(i=0;i<256;i++)a[i]=a[o=255&o+t[i%n]+(e=a[i])],a[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,a=r.S;t--;)e=a[i=255&i+1],n=256*n+a[255&(a[i]=a[o=255&o+e])+(a[o]=e)];return r.i=i,r.j=o,n})(256)}function c(t,e){var n,r=[],i=(typeof t)[0];if(e&&"o"==i)for(n in t)try{r.push(c(t[n],e-1))}catch(t){}return r.length?r:"s"==i?t:t+"\0"}function f(t,e){for(var n,r=t+"",i=0;i<r.length;)e[255&i]=255&(n^=19*e[255&i])+r.charCodeAt(i++);return p(e)}function l(t){try{return r.crypto.getRandomValues(t=new Uint8Array(256)),p(t)}catch(t){return[+new Date,r,r.navigator&&r.navigator.plugins,r.screen,p(n)]}}function p(t){return String.fromCharCode.apply(0,t)}t.exports=function(e,r){if(r&&!0===r.global)return r.global=!1,Math.random=t.exports(e,r),r.global=!0,Math.random;var u=r&&r.entropy||!1,h=[],d=(f(c(u?[e,p(n)]:0 in arguments?e:l(),3),h),new s(h));return f(p(d.S),n),function(){for(var t=d.g(6),e=i,n=0;t<o;)t=256*(t+n),e*=256,n=d.g(1);for(;t>=a;)t/=2,e/=2,n>>>=1;return(t+n)/e}},t.exports.resetGlobal=function(){Math.random=u},f(Math.random(),n)}).call(this,n(20))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(22),i=n(33),o=n(35);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(14),i=n(12);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(15).Symbol;t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(20))},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(21),i=n(26),o=n(48),a=n(49),u=Object.prototype,s=u.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&o(e[0],e[1],c)&&(r=1);++n<r;)for(var f=e[n],l=a(f),p=-1,h=l.length;++p<h;){var d=l[p],g=t[d];(void 0===g||i(g,u[d])&&!s.call(t,d))&&(t[d]=f[d])}return t}));t.exports=c},function(t,e,n){var r=n(21)(n(75));t.exports=r},function(t,e,n){var r=n(34),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,u=i(o.length-e,0),s=Array(u);++a<u;)s[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(s),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(36),i=n(47)(r);t.exports=i},function(t,e,n){var r=n(37),i=n(38),o=n(22),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(39),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(40),i=n(46);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(23),i=n(43),o=n(12),a=n(45),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,l=c.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?p:u).test(a(t))}},function(t,e,n){var r=n(24),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[u]=n:delete t[u]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,i=n(44),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(15)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(26),i=n(16),o=n(28),a=n(12);t.exports=function(t,e,n){if(!a(n))return!1;var u=typeof e;return!!("number"==u?i(n)&&o(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(50),i=n(60),o=n(16);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(29),i=n(51),o=n(53),a=n(54),u=n(28),s=n(56),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),f=!n&&i(t),l=!n&&!f&&a(t),p=!n&&!f&&!l&&s(t),h=n||f||l||p,d=h?r(t.length,String):[],g=d.length;for(var m in t)!e&&!c.call(t,m)||h&&("length"==m||l&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,g))||d.push(m);return d}},function(t,e,n){var r=n(52),i=n(13),o=Object.prototype,a=o.hasOwnProperty,u=o.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e,n){var r=n(14),i=n(13);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){(function(t){var r=n(15),i=n(55),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===o?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;t.exports=s}).call(this,n(30)(t))},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(57),i=n(58),o=n(59),a=o&&o.isTypedArray,u=a?i(a):r;t.exports=u},function(t,e,n){var r=n(14),i=n(27),o=n(13),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(25),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u}).call(this,n(30)(t))},function(t,e,n){var r=n(12),i=n(61),o=n(62),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==f(t)&&"function"!=typeof t)return{default:t};var e=c();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(1)),i=s(n(10)),o=s(n(66)),a=s(n(67)),u=n(74);function s(t){return t&&t.__esModule?t:{default:t}}function c(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(){return!0},x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(f,t);var e,n,i,s,c=(e=f,function(){var t,n=v(e);if(m()){var r=v(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return d(this,t)});function f(t){var e,n=t.alwaysRenderSuggestions;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),w(g(e=c.call(this)),"onDocumentMouseDown",(function(t){e.justClickedOnSuggestionsContainer=!1;for(var n=t.detail&&t.detail.target||t.target;null!==n&&n!==document;){if(n.getAttribute&&null!==n.getAttribute("data-suggestion-index"))return;if(n===e.suggestionsContainer)return void(e.justClickedOnSuggestionsContainer=!0);n=n.parentNode}})),w(g(e),"storeAutowhateverRef",(function(t){null!==t&&(e.autowhatever=t)})),w(g(e),"onSuggestionMouseEnter",(function(t,n){var r=n.sectionIndex,i=n.itemIndex;e.updateHighlightedSuggestion(r,i),t.target===e.pressedSuggestion&&(e.justSelectedSuggestion=!0),e.justMouseEntered=!0,setTimeout((function(){e.justMouseEntered=!1}))})),w(g(e),"highlightFirstSuggestion",(function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)})),w(g(e),"onDocumentMouseUp",(function(){e.pressedSuggestion&&!e.justSelectedSuggestion&&e.input.focus(),e.pressedSuggestion=null})),w(g(e),"onSuggestionMouseDown",(function(t){e.justSelectedSuggestion||(e.justSelectedSuggestion=!0,e.pressedSuggestion=t.target)})),w(g(e),"onSuggestionsClearRequested",(function(){var t=e.props.onSuggestionsClearRequested;t&&t()})),w(g(e),"onSuggestionSelected",(function(t,n){var r=e.props,i=r.alwaysRenderSuggestions,o=r.onSuggestionSelected,a=r.onSuggestionsFetchRequested;o&&o(t,n),i?a({value:n.suggestionValue,reason:"suggestion-selected"}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()})),w(g(e),"onSuggestionClick",(function(t){var n=e.props,r=n.alwaysRenderSuggestions,i=n.focusInputOnSuggestionClick,o=e.getSuggestionIndices(e.findSuggestionElement(t.target)),a=o.sectionIndex,u=o.suggestionIndex,s=e.getSuggestion(a,u),c=e.props.getSuggestionValue(s);e.maybeCallOnChange(t,c,"click"),e.onSuggestionSelected(t,{suggestion:s,suggestionValue:c,suggestionIndex:u,sectionIndex:a,method:"click"}),r||e.closeSuggestions(),!0===i?e.input.focus():e.onBlur(),setTimeout((function(){e.justSelectedSuggestion=!1}))})),w(g(e),"onBlur",(function(){var t=e.props,n=t.inputProps,r=t.shouldRenderSuggestions,i=n.value,o=n.onBlur,a=e.getHighlightedSuggestion(),u=r(i);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!u}),o&&o(e.blurEvent,{highlightedSuggestion:a})})),w(g(e),"onSuggestionMouseLeave",(function(t){e.resetHighlightedSuggestion(!1),e.justSelectedSuggestion&&t.target===e.pressedSuggestion&&(e.justSelectedSuggestion=!1)})),w(g(e),"onSuggestionTouchStart",(function(){e.justSelectedSuggestion=!0})),w(g(e),"onSuggestionTouchMove",(function(){e.justSelectedSuggestion=!1,e.pressedSuggestion=null,e.input.focus()})),w(g(e),"itemProps",(function(t){return{"data-section-index":t.sectionIndex,"data-suggestion-index":t.itemIndex,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.onSuggestionMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionTouchStart,onTouchMove:e.onSuggestionTouchMove,onClick:e.onSuggestionClick}})),w(g(e),"renderSuggestionsContainer",(function(t){var n=t.containerProps,r=t.children;return(0,e.props.renderSuggestionsContainer)({containerProps:n,children:r,query:e.getQuery()})})),e.state={isFocused:!1,isCollapsed:!n,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},e.justPressedUpDown=!1,e.justMouseEntered=!1,e.pressedSuggestion=null,e}return n=f,(i=[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onDocumentMouseUp),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){(0,o.default)(t.suggestions,this.props.suggestions)?t.highlightFirstSuggestion&&t.suggestions.length>0&&!1===this.justPressedUpDown&&!1===this.justMouseEntered&&this.highlightFirstSuggestion():this.willRenderSuggestions(t)?this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions():this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.suggestions,i=n.onSuggestionHighlighted,a=n.highlightFirstSuggestion;if(!(0,o.default)(r,t.suggestions)&&r.length>0&&a)this.highlightFirstSuggestion();else if(i){var u=this.getHighlightedSuggestion();u!=e.highlightedSuggestion&&i({suggestion:u})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"updateHighlightedSuggestion",value:function(t,e,n){var r=this;this.setState((function(i){var o=i.valueBeforeUpDown;return null===e?o=null:null===o&&void 0!==n&&(o=n),{highlightedSectionIndex:t,highlightedSuggestionIndex:e,highlightedSuggestion:null===e?null:r.getSuggestion(t,e),valueBeforeUpDown:o}}))}},{key:"resetHighlightedSuggestion",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState((function(e){var n=e.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:t?null:n}}))}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(t,e){var n=this.props,r=n.suggestions,i=n.multiSection,o=n.getSectionSuggestions;return i?o(r[t])[e]:r[e]}},{key:"getHighlightedSuggestion",value:function(){var t=this.state,e=t.highlightedSectionIndex,n=t.highlightedSuggestionIndex;return null===n?null:this.getSuggestion(e,n)}},{key:"getSuggestionValueByIndex",value:function(t,e){return(0,this.props.getSuggestionValue)(this.getSuggestion(t,e))}},{key:"getSuggestionIndices",value:function(t){var e=t.getAttribute("data-section-index"),n=t.getAttribute("data-suggestion-index");return{sectionIndex:"string"==typeof e?parseInt(e,10):null,suggestionIndex:parseInt(n,10)}}},{key:"findSuggestionElement",value:function(t){var e=t;do{if(e.getAttribute&&null!==e.getAttribute("data-suggestion-index"))return e;e=e.parentNode}while(null!==e);throw console.error("Clicked element:",t),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(t,e,n){var r=this.props.inputProps,i=r.value,o=r.onChange;e!==i&&o(t,{newValue:e,method:n})}},{key:"willRenderSuggestions",value:function(t){var e=t.suggestions,n=t.inputProps,r=t.shouldRenderSuggestions,i=n.value;return e.length>0&&r(i)}},{key:"getQuery",value:function(){var t=this.props.inputProps.value,e=this.state.valueBeforeUpDown;return(null===e?t:e).trim()}},{key:"render",value:function(){var t=this,e=this.props,n=e.suggestions,i=e.renderInputComponent,o=e.onSuggestionsFetchRequested,s=e.renderSuggestion,c=e.inputProps,f=e.multiSection,l=e.renderSectionTitle,h=e.id,d=e.getSectionSuggestions,g=e.theme,m=e.getSuggestionValue,v=e.alwaysRenderSuggestions,y=e.highlightFirstSuggestion,w=this.state,x=w.isFocused,S=w.isCollapsed,M=w.highlightedSectionIndex,_=w.highlightedSuggestionIndex,N=w.valueBeforeUpDown,E=v?b:this.props.shouldRenderSuggestions,O=c.value,P=c.onFocus,I=c.onKeyDown,C=this.willRenderSuggestions(this.props),j=v||x&&!S&&C,A=j?n:[],D=p({},c,{onFocus:function(e){if(!t.justSelectedSuggestion&&!t.justClickedOnSuggestionsContainer){var n=E(O);t.setState({isFocused:!0,isCollapsed:!n}),P&&P(e),n&&o({value:O,reason:"input-focused"})}},onBlur:function(e){t.justClickedOnSuggestionsContainer?t.input.focus():(t.blurEvent=e,t.justSelectedSuggestion||(t.onBlur(),t.onSuggestionsClearRequested()))},onChange:function(e){var n=e.target.value,r=E(n);t.maybeCallOnChange(e,n,"type"),t.suggestionsContainer&&(t.suggestionsContainer.scrollTop=0),t.setState(p({},y?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!r})),r?o({value:n,reason:"input-changed"}):t.onSuggestionsClearRequested()},onKeyDown:function(e,r){var i=e.keyCode;switch(i){case 40:case 38:if(S)E(O)&&(o({value:O,reason:"suggestions-revealed"}),t.revealSuggestions());else if(n.length>0){var a,u=r.newHighlightedSectionIndex,s=r.newHighlightedItemIndex;a=null===s?null===N?O:N:t.getSuggestionValueByIndex(u,s),t.updateHighlightedSuggestion(u,s,O),t.maybeCallOnChange(e,a,40===i?"down":"up")}e.preventDefault(),t.justPressedUpDown=!0,setTimeout((function(){t.justPressedUpDown=!1}));break;case 13:if(229===e.keyCode)break;var c=t.getHighlightedSuggestion();if(j&&!v&&t.closeSuggestions(),null!=c){var f=m(c);t.maybeCallOnChange(e,f,"enter"),t.onSuggestionSelected(e,{suggestion:c,suggestionValue:f,suggestionIndex:_,sectionIndex:M,method:"enter"}),t.justSelectedSuggestion=!0,setTimeout((function(){t.justSelectedSuggestion=!1}))}break;case 27:j&&e.preventDefault();var l=j&&!v;null===N?l||(t.maybeCallOnChange(e,"","escape"),E("")?o({value:"",reason:"escape-pressed"}):t.onSuggestionsClearRequested()):t.maybeCallOnChange(e,N,"escape"),l?(t.onSuggestionsClearRequested(),t.closeSuggestions()):t.resetHighlightedSuggestion()}I&&I(e)}}),F={query:this.getQuery()};return r.default.createElement(a.default,{multiSection:f,items:A,renderInputComponent:i,renderItemsContainer:this.renderSuggestionsContainer,renderItem:s,renderItemData:F,renderSectionTitle:l,getSectionItems:d,highlightedSectionIndex:M,highlightedItemIndex:_,inputProps:D,itemProps:this.itemProps,theme:(0,u.mapToAutowhateverTheme)(g),id:h,ref:this.storeAutowhateverRef})}}])&&h(n.prototype,i),s&&h(n,s),f}(r.Component);e.default=x,w(x,"propTypes",{suggestions:i.default.array.isRequired,onSuggestionsFetchRequested:function(t,e){var n=t[e];if("function"!=typeof n)throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(t,e){var n=t[e];if(!1===t.alwaysRenderSuggestions&&"function"!=typeof n)throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},onSuggestionSelected:i.default.func,onSuggestionHighlighted:i.default.func,renderInputComponent:i.default.func,renderSuggestionsContainer:i.default.func,getSuggestionValue:i.default.func.isRequired,renderSuggestion:i.default.func.isRequired,inputProps:function(t,e){var n=t[e];if(!Object.prototype.hasOwnProperty.call(n,"value"))throw new Error("'inputProps' must have 'value'.");if(!Object.prototype.hasOwnProperty.call(n,"onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:i.default.func,alwaysRenderSuggestions:i.default.bool,multiSection:i.default.bool,renderSectionTitle:function(t,e){var n=t[e];if(!0===t.multiSection&&"function"!=typeof n)throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(t,e){var n=t[e];if(!0===t.multiSection&&"function"!=typeof n)throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:i.default.bool,highlightFirstSuggestion:i.default.bool,theme:i.default.object,id:i.default.string}),w(x,"defaultProps",{renderSuggestionsContainer:function(t){var e=t.containerProps,n=t.children;return r.default.createElement("div",e,n)},shouldRenderSuggestions:function(t){return t.trim().length>0},alwaysRenderSuggestions:!1,multiSection:!1,focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:u.defaultTheme,id:"1"})},function(t,e,n){"use strict";var r=n(65);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";t.exports=function(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==g(t)&&"function"!=typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(1)),i=c(n(10)),o=c(n(68)),a=c(n(69)),u=c(n(71)),s=c(n(72));function c(t){return t&&t.__esModule?t:{default:t}}function f(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M={},_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(l,t);var e,n,i,c,f=(e=l,function(){var t,n=b(e);if(w()){var r=b(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return v(this,t)});function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),S(y(e=f.call(this,t)),"storeInputReference",(function(t){null!==t&&(e.input=t);var n=e.props.inputProps.ref;n&&("function"==typeof n?n(t):"object"===g(n)&&Object.prototype.hasOwnProperty.call(n,"current")&&(n.current=t))})),S(y(e),"storeItemsContainerReference",(function(t){null!==t&&(e.itemsContainer=t)})),S(y(e),"onHighlightedItemChange",(function(t){e.highlightedItem=t})),S(y(e),"getItemId",(function(t,n){if(null===n)return null;var r=e.props.id,i=null===t?"":"section-".concat(t);return"react-autowhatever-".concat(r,"-").concat(i,"-item-").concat(n)})),S(y(e),"onFocus",(function(t){var n=e.props.inputProps;e.setState({isInputFocused:!0}),n.onFocus&&n.onFocus(t)})),S(y(e),"onBlur",(function(t){var n=e.props.inputProps;e.setState({isInputFocused:!1}),n.onBlur&&n.onBlur(t)})),S(y(e),"onKeyDown",(function(t){var n=e.props,r=n.inputProps,i=n.highlightedSectionIndex,o=n.highlightedItemIndex;switch(t.key){case"ArrowDown":case"ArrowUp":var a="ArrowDown"===t.key?"next":"prev",u=h(e.sectionIterator[a]([i,o]),2),s=u[0],c=u[1];r.onKeyDown(t,{newHighlightedSectionIndex:s,newHighlightedItemIndex:c});break;default:r.onKeyDown(t,{highlightedSectionIndex:i,highlightedItemIndex:o})}})),e.highlightedItem=null,e.state={isInputFocused:!1},e.setSectionsItems(t),e.setSectionIterator(t),e.setTheme(t),e}return n=l,(i=[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.items!==this.props.items&&this.setSectionsItems(t),t.items===this.props.items&&t.multiSection===this.props.multiSection||this.setSectionIterator(t),t.theme!==this.props.theme&&this.setTheme(t)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(t){t.multiSection&&(this.sectionsItems=t.items.map((function(e){return t.getSectionItems(e)})),this.sectionsLengths=this.sectionsItems.map((function(t){return t.length})),this.allSectionsAreEmpty=this.sectionsLengths.every((function(t){return 0===t})))}},{key:"setSectionIterator",value:function(t){this.sectionIterator=(0,o.default)({multiSection:t.multiSection,data:t.multiSection?this.sectionsLengths:t.items.length})}},{key:"setTheme",value:function(t){this.theme=(0,a.default)(t.theme)}},{key:"renderSections",value:function(){var t=this;if(this.allSectionsAreEmpty)return null;var e=this.theme,n=this.props,i=n.id,o=n.items,a=n.renderItem,c=n.renderItemData,f=n.renderSectionTitle,l=n.highlightedSectionIndex,p=n.highlightedItemIndex,h=n.itemProps;return o.map((function(n,o){var d="react-autowhatever-".concat(i,"-"),g="".concat(d,"section-").concat(o,"-"),m=0===o;return r.default.createElement("div",e("".concat(g,"container"),"sectionContainer",m&&"sectionContainerFirst"),r.default.createElement(u.default,{section:n,renderSectionTitle:f,theme:e,sectionKeyPrefix:g}),r.default.createElement(s.default,{items:t.sectionsItems[o],itemProps:h,renderItem:a,renderItemData:c,sectionIndex:o,highlightedItemIndex:l===o?p:null,onHighlightedItemChange:t.onHighlightedItemChange,getItemId:t.getItemId,theme:e,keyPrefix:d,ref:t.storeItemsListReference}))}))}},{key:"renderItems",value:function(){var t=this.props.items;if(0===t.length)return null;var e=this.theme,n=this.props,i=n.id,o=n.renderItem,a=n.renderItemData,u=n.highlightedSectionIndex,c=n.highlightedItemIndex,f=n.itemProps;return r.default.createElement(s.default,{items:t,itemProps:f,renderItem:o,renderItemData:a,highlightedItemIndex:null===u?c:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:e,keyPrefix:"react-autowhatever-".concat(i,"-")})}},{key:"ensureHighlightedItemIsVisible",value:function(){var t=this.highlightedItem;if(t){var e=this.itemsContainer,n=t.offsetParent===e?t.offsetTop:t.offsetTop-e.offsetTop,r=e.scrollTop;n<r?r=n:n+t.offsetHeight>r+e.offsetHeight&&(r=n+t.offsetHeight-e.offsetHeight),r!==e.scrollTop&&(e.scrollTop=r)}}},{key:"render",value:function(){var t=this.theme,e=this.props,n=e.id,i=e.multiSection,o=e.renderInputComponent,a=e.renderItemsContainer,u=e.highlightedSectionIndex,s=e.highlightedItemIndex,c=this.state.isInputFocused,f=i?this.renderSections():this.renderItems(),l=null!==f,h=this.getItemId(u,s),d="react-autowhatever-".concat(n),g=p({role:"combobox","aria-haspopup":"listbox","aria-owns":d,"aria-expanded":l},t("react-autowhatever-".concat(n,"-container"),"container",l&&"containerOpen"),{},this.props.containerProps),m=o(p({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":d,"aria-activedescendant":h},t("react-autowhatever-".concat(n,"-input"),"input",l&&"inputOpen",c&&"inputFocused"),{},this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),v=a({containerProps:p({id:d,role:"listbox"},t("react-autowhatever-".concat(n,"-items-container"),"itemsContainer",l&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:f});return r.default.createElement("div",g,m,v)}}])&&m(n.prototype,i),c&&m(n,c),l}(r.Component);e.default=_,S(_,"propTypes",{id:i.default.string,multiSection:i.default.bool,renderInputComponent:i.default.func,renderItemsContainer:i.default.func,items:i.default.array.isRequired,renderItem:i.default.func,renderItemData:i.default.object,renderSectionTitle:i.default.func,getSectionItems:i.default.func,containerProps:i.default.object,inputProps:i.default.object,itemProps:i.default.oneOfType([i.default.object,i.default.func]),highlightedSectionIndex:i.default.number,highlightedItemIndex:i.default.number,theme:i.default.oneOfType([i.default.object,i.default.array])}),S(_,"defaultProps",{id:"1",multiSection:!1,renderInputComponent:function(t){return r.default.createElement("input",t)},renderItemsContainer:function(t){var e=t.containerProps,n=t.children;return r.default.createElement("div",e,n)},renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:M,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:M,inputProps:M,itemProps:M,highlightedSectionIndex:null,highlightedItemIndex:null,theme:{container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"}})},function(t,e,n){"use strict";var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.exports=function(t){var e=t.data,n=t.multiSection;function i(t){var i=r(t,2),o=i[0],a=i[1];return n?null===a||a===e[o]-1?null===(o=function(t){for(null===t?t=0:t++;t<e.length&&0===e[t];)t++;return t===e.length?null:t}(o))?[null,null]:[o,0]:[o,a+1]:0===e||a===e-1?[null,null]:null===a?[null,0]:[null,a+1]}return{next:i,prev:function(t){var i=r(t,2),o=i[0],a=i[1];return n?null===a||0===a?null===(o=function(t){for(null===t?t=e.length-1:t--;t>=0&&0===e[t];)t--;return-1===t?null:t}(o))?[null,null]:[o,e[o]-1]:[o,a-1]:0===e||0===a?[null,null]:null===a?[null,e-1]:[null,a-1]},isLast:function(t){return null===i(t)[1]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o,a=n(70),u=(o=a)&&o.__esModule?o:{default:o},s=function(t){return t};e.default=function(t){var e=Array.isArray(t)&&2===t.length?t:[t,null],n=r(e,2),o=n[0],a=n[1];return function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var c=n.map((function(t){return o[t]})).filter(s);return"string"==typeof c[0]||"function"==typeof a?{key:t,className:a?a.apply(void 0,i(c)):c.join(" ")}:{key:t,style:u.default.apply(void 0,[{}].concat(i(c)))}}},t.exports=e.default},function(t,e,n){"use strict";var r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(t){var e=Object.getOwnPropertyNames(t);return Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e.filter((function(e){return r.call(t,e)}))}t.exports=Object.assign||function(t,e){for(var n,r,a=i(t),u=1;u<arguments.length;u++){n=arguments[u],r=o(Object(n));for(var s=0;s<r.length;s++)a[r[s]]=n[r[s]]}return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(1)),i=a(n(10)),o=a(n(17));function a(t){return t&&t.__esModule?t:{default:t}}function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g,m,v,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(s,t);var e,n,i,a,u=(e=s,function(){var t,n=h(e);if(p()){var r=h(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return l(this,t)});function s(){return c(this,s),u.apply(this,arguments)}return n=s,(i=[{key:"shouldComponentUpdate",value:function(t){return(0,o.default)(t,this.props)}},{key:"render",value:function(){var t=this.props,e=t.section,n=t.renderSectionTitle,i=t.theme,o=t.sectionKeyPrefix,a=n(e);return a?r.default.createElement("div",i("".concat(o,"title"),"sectionTitle"),a):null}}])&&f(n.prototype,i),a&&f(n,a),s}(r.Component);e.default=y,g=y,m="propTypes",v={section:i.default.any.isRequired,renderSectionTitle:i.default.func.isRequired,theme:i.default.func.isRequired,sectionKeyPrefix:i.default.string.isRequired},m in g?Object.defineProperty(g,m,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[m]=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==c(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(1)),i=u(n(10)),o=u(n(73)),a=u(n(17));function u(t){return t&&t.__esModule?t:{default:t}}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(c,t);var e,n,i,u,s=(e=c,function(){var t,n=v(e);if(m()){var r=v(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return d(this,t)});function c(){var t;p(this,c);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(g(t=s.call.apply(s,[this].concat(n))),"storeHighlightedItemReference",(function(e){t.props.onHighlightedItemChange(null===e?null:e.item)})),t}return n=c,(i=[{key:"shouldComponentUpdate",value:function(t){return(0,a.default)(t,this.props,["itemProps"])}},{key:"render",value:function(){var t=this,e=this.props,n=e.items,i=e.itemProps,a=e.renderItem,u=e.renderItemData,s=e.sectionIndex,c=e.highlightedItemIndex,p=e.getItemId,h=e.theme,d=e.keyPrefix,g=null===s?d:"".concat(d,"section-").concat(s,"-"),m="function"==typeof i;return r.default.createElement("ul",f({role:"listbox"},h("".concat(g,"items-list"),"itemsList")),n.map((function(e,n){var d=0===n,v=n===c,y="".concat(g,"item-").concat(n),b=m?i({sectionIndex:s,itemIndex:n}):i,x=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({id:p(s,n),"aria-selected":v},h(y,"item",d&&"itemFirst",v&&"itemHighlighted"),{},b);return v&&(x.ref=t.storeHighlightedItemReference),r.default.createElement(o.default,f({},x,{sectionIndex:s,isHighlighted:v,itemIndex:n,item:e,renderItem:a,renderItemData:u}))})))}}])&&h(n.prototype,i),u&&h(n,u),c}(r.Component);e.default=b,w(b,"propTypes",{items:i.default.array.isRequired,itemProps:i.default.oneOfType([i.default.object,i.default.func]),renderItem:i.default.func.isRequired,renderItemData:i.default.object.isRequired,sectionIndex:i.default.number,highlightedItemIndex:i.default.number,onHighlightedItemChange:i.default.func.isRequired,getItemId:i.default.func.isRequired,theme:i.default.func.isRequired,keyPrefix:i.default.string.isRequired}),w(b,"defaultProps",{sectionIndex:null})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(1)),i=a(n(10)),o=a(n(17));function a(t){return t&&t.__esModule?t:{default:t}}function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(s,t);var e,n,i,a,u=(e=s,function(){var t,n=v(e);if(m()){var r=v(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return d(this,t)});function s(){var t;p(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(g(t=u.call.apply(u,[this].concat(n))),"storeItemReference",(function(e){null!==e&&(t.item=e)})),w(g(t),"onMouseEnter",(function(e){var n=t.props,r=n.sectionIndex,i=n.itemIndex;t.props.onMouseEnter(e,{sectionIndex:r,itemIndex:i})})),w(g(t),"onMouseLeave",(function(e){var n=t.props,r=n.sectionIndex,i=n.itemIndex;t.props.onMouseLeave(e,{sectionIndex:r,itemIndex:i})})),w(g(t),"onMouseDown",(function(e){var n=t.props,r=n.sectionIndex,i=n.itemIndex;t.props.onMouseDown(e,{sectionIndex:r,itemIndex:i})})),w(g(t),"onClick",(function(e){var n=t.props,r=n.sectionIndex,i=n.itemIndex;t.props.onClick(e,{sectionIndex:r,itemIndex:i})})),t}return n=s,(i=[{key:"shouldComponentUpdate",value:function(t){return(0,o.default)(t,this.props,["renderItemData"])}},{key:"render",value:function(){var t=this.props,e=t.isHighlighted,n=t.item,i=t.renderItem,o=t.renderItemData,a=l(t,["isHighlighted","item","renderItem","renderItemData"]);return delete a.sectionIndex,delete a.itemIndex,"function"==typeof a.onMouseEnter&&(a.onMouseEnter=this.onMouseEnter),"function"==typeof a.onMouseLeave&&(a.onMouseLeave=this.onMouseLeave),"function"==typeof a.onMouseDown&&(a.onMouseDown=this.onMouseDown),"function"==typeof a.onClick&&(a.onClick=this.onClick),r.default.createElement("li",c({role:"option"},a,{ref:this.storeItemReference}),i(n,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({isHighlighted:e},o)))}}])&&h(n.prototype,i),a&&h(n,a),s}(r.Component);e.default=b,w(b,"propTypes",{sectionIndex:i.default.number,isHighlighted:i.default.bool.isRequired,itemIndex:i.default.number.isRequired,item:i.default.any.isRequired,renderItem:i.default.func.isRequired,renderItemData:i.default.object.isRequired,onMouseEnter:i.default.func,onMouseLeave:i.default.func,onMouseDown:i.default.func,onClick:i.default.func})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapToAutowhateverTheme=e.defaultTheme=void 0;e.defaultTheme={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"};e.mapToAutowhateverTheme=function(t){var e={};for(var n in t)switch(n){case"suggestionsContainer":e.itemsContainer=t[n];break;case"suggestionsContainerOpen":e.itemsContainerOpen=t[n];break;case"suggestion":e.item=t[n];break;case"suggestionFirst":e.itemFirst=t[n];break;case"suggestionHighlighted":e.itemHighlighted=t[n];break;case"suggestionsList":e.itemsList=t[n];break;default:e[n]=t[n]}return e}},function(t,e,n){var r=n(76),i=n(77),o=n(78),a=n(29),u=n(79),s=Math.max;t.exports=function(t){if(!t||!t.length)return[];var e=0;return t=r(t,(function(t){if(u(t))return e=s(t.length,e),!0})),a(e,(function(e){return i(t,o(e))}))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(16),i=n(13);t.exports=function(t){return i(t)&&r(t)}},,,function(t,e,n){"use strict";n.r(e);var r=n(3),i=n(6),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}var p=n(0),h=n.n(p),d={target:"",alias:"",operator:"",regex:!1,aliasPattern:"",functions:[]},g=["firstSample","lastSample","firstFill","lastFill","mean","min","max","count","ncount","nth","median","std","jitter","ignoreflyers","flyers","variance","popvariance","kurtosis","skewness","raw","last"];function m(t){return!!t.meta.waveform&&(!!Array.isArray(t.data[0].val)&&"number"==typeof t.data[0].val[0])}var v={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t){return"number"==typeof t}function b(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function x(t){return t&&"object"===y(t)&&!0===Object.getPrototypeOf(t).isComplex||!1}function S(t){return t&&"object"===y(t)&&!0===Object.getPrototypeOf(t).isFraction||!1}function M(t){return t&&!0===t.constructor.prototype.isUnit||!1}function _(t){return"string"==typeof t}var N=Array.isArray;function E(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function O(t){return Array.isArray(t)||E(t)}function P(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function I(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function C(t){return t&&!0===t.constructor.prototype.isRange||!1}function j(t){return t&&!0===t.constructor.prototype.isIndex||!1}function A(t){return"boolean"==typeof t}function D(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function F(t){return t&&!0===t.constructor.prototype.isHelp||!1}function R(t){return"function"==typeof t}function k(t){return t instanceof Date}function z(t){return t instanceof RegExp}function T(t){return!(!t||"object"!==y(t)||t.constructor!==Object||x(t)||S(t))}function q(t){return null===t}function B(t){return void 0===t}function U(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function L(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function V(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function H(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function Z(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function $(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function W(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function Q(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function K(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function J(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function Y(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function G(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function X(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function tt(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function et(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function nt(t){return t&&!0===t.constructor.prototype.isChain||!1}function rt(t){var e=y(t);return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":b(t)?"BigNumber":x(t)?"Complex":S(t)?"Fraction":E(t)?"Matrix":M(t)?"Unit":j(t)?"Index":C(t)?"Range":D(t)?"ResultSet":J(t)?t.type:nt(t)?"Chain":F(t)?"Help":"Object":"function"===e?"Function":e}function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t){var e=it(t);if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return ot(t)}));if(t instanceof Date)return new Date(t.valueOf());if(b(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return at(t,ot)}function at(t,e){var n={};for(var r in t)ct(t,r)&&(n[r]=e(t[r]));return n}function ut(t,e){for(var n in e)ct(e,n)&&(t[n]=e[n]);return t}function st(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!st(t[r],e[r]))return!1;return!0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!st(t[n],e[n]))return!1;for(n in e)if(!(n in t)||!st(t[n],e[n]))return!1;return!0}return t===e}function ct(t,e){return t&&Object.hasOwnProperty.call(t,e)}var ft=["Matrix","Array"],lt=["number","BigNumber","Fraction"];function pt(){return(pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ht=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(v)};function dt(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}pt(ht,v,{MATRIX_OPTIONS:ft,NUMBER_OPTIONS:lt});var gt=Math.sign||function(t){return t>0?1:t<0?-1:0},mt=Math.log2||function(t){return Math.log(t)/Math.LN2},vt=Math.log10||function(t){return Math.log(t)/Math.LN10},yt=(Math.log1p,Math.cbrt||function(t){if(0===t)return t;var e,n=t<0;return n&&(t=-t),e=isFinite(t)?(t/((e=Math.exp(Math.log(t)/3))*e)+2*e)/3:t,n?-e:e}),wt=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function bt(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,r="auto";switch(e&&(e.notation&&(r=e.notation),w(e)?n=e:w(e.precision)&&(n=e.precision)),r){case"fixed":return St(t,n);case"exponential":return Mt(t,n);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=_t(xt(t),e),r=n.exponent,i=n.coefficients,o=r%3==0?r:r<0?r-3-r%3:r-r%3;if(w(e))for(;e>i.length||r-o+1>i.length;)i.push(0);else for(var a=Math.abs(r-o)-(i.length-1),u=0;u<a;u++)i.push(0);var s=Math.abs(r-o),c=1;for(;s>0;)c++,s--;var f=i.slice(c).join(""),l=w(e)&&f.length||f.match(/[1-9]/)?"."+f:"",p=i.slice(0,c).join("")+l+"e"+(r>=0?"+":"")+o.toString();return n.sign+p}(t,n);case"auto":return function(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,o=xt(t),a=e?_t(o,e):o;if(a.exponent<r||a.exponent>=i)return Mt(t,e);var u=a.coefficients,s=a.exponent;u.length<e&&(u=u.concat(Nt(e-u.length))),u=u.concat(Nt(s-u.length+1+(u.length<e?e-u.length:0))),u=Nt(-s).concat(u);var c=s>0?s:0;return c<u.length-1&&u.splice(c+1,0,"."),a.sign+u.join("")}(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function xt(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function St(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=xt(t),r="number"==typeof e?_t(n,n.exponent+1+e):n,i=r.coefficients,o=r.exponent+1,a=o+(e||0);return i.length<a&&(i=i.concat(Nt(a-i.length))),o<0&&(i=Nt(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),r.sign+i.join("")}function Mt(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=xt(t),r=e?_t(n,e):n,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(Nt(e-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function _t(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function Nt(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}var Et=Number.EPSILON||2220446049250313e-31;function Ot(t,e,n){if(null==n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var r=Math.abs(t-e);return r<Et||r<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}var Pt=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},It=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Ct=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},jt=(Math.cosh,Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2});Math.tanh;function At(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,r="auto";switch(void 0!==e&&(e.notation&&(r=e.notation),"number"==typeof e?n=e:e.precision&&(n=e.precision)),r){case"fixed":return function(t,e){return t.toFixed(e)}(t,n);case"exponential":return Dt(t,n);case"engineering":return function(t,e){var n=t.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),o=i.toPrecision(e);-1!==o.indexOf("e")&&(o=i.toString());return o+"e"+(n>=0?"+":"")+r.toString()}(t,n);case"auto":var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,o=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var a=t.toSignificantDigits(n),u=a.e;return(u>=i&&u<o?a.toFixed():Dt(t,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function Dt(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){return"number"==typeof t?bt(t,e):b(t)?At(t,e):function(t){return t&&"object"===Ft(t)&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?function t(e,n){if(Array.isArray(e)){for(var r="[",i=e.length,o=0;o<i;o++)0!==o&&(r+=", "),r+=t(e[o],n);return r+="]"}return Rt(e,n)}(t,e):_(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"===Ft(t)?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((function(n){return'"'+n+'": '+Rt(t[n],e)})).join(", ")+"}":String(t)}function kt(t,e,n){if(!(this instanceof kt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function zt(t,e,n){if(!(this instanceof zt))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Tt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function qt(t,e){if(0===e.length){if(Array.isArray(t))throw new kt(t.length,0)}else!function t(e,n,r){var i,o=e.length;if(o!==n[r])throw new kt(o,n[r]);if(r<n.length-1){var a=r+1;for(i=0;i<o;i++){var u=e[i];if(!Array.isArray(u))throw new kt(n.length-1,n.length,"<");t(e[i],n,a)}}else for(i=0;i<o;i++)if(Array.isArray(e[i]))throw new kt(n.length+1,n.length,">")}(t,e,0)}function Bt(t,e){if(!w(t)||!dt(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new zt(t,e)}function Ut(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!w(t)||!dt(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Rt(e)+")")})),function t(e,n,r,i){var o,a,u=e.length,s=n[r],c=Math.min(u,s);if(e.length=s,r<n.length-1){var f=r+1;for(o=0;o<c;o++)a=e[o],Array.isArray(a)||(a=[a],e[o]=a),t(a,n,f,i);for(o=c;o<s;o++)a=[],e[o]=a,t(a,n,f,i)}else{for(o=0;o<c;o++)for(;Array.isArray(e[o]);)e[o]=e[o][0];for(o=c;o<s;o++)e[o]=i}}(t,e,0,void 0!==n?n:0),t}function Lt(t,e){var n,r=Ht(t);function i(t){return t.reduce((function(t,e){return t*e}))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new kt(0,i(Tt(t)),"!=");for(var o=1,a=0;a<e.length;a++)o*=e[a];if(r.length!==o)throw new kt(i(e),i(Tt(t)),"!=");try{n=function(t,e){for(var n,r=t,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var a=r.length/o,u=0;u<a;u++)n.push(r.slice(u*o,(u+1)*o));r=n}return r}(r,e)}catch(n){if(n instanceof kt)throw new kt(i(e),i(Tt(t)),"!=");throw n}return n}function Vt(t,e,n,r){var i=r||Tt(t);if(n)for(var o=0;o<n;o++)t=[t],i.unshift(1);for(t=function t(e,n,r){var i,o;if(Array.isArray(e)){var a=r+1;for(i=0,o=e.length;i<o;i++)e[i]=t(e[i],n,a)}else for(var u=r;u<n;u++)e=[e];return e}(t,e,0);i.length<e;)i.push(1);return t}function Ht(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(n){Array.isArray(n)?n.forEach(t):e.push(n)})),e}function Zt(t,e){for(var n,r=0,i=0;i<t.length;i++){var o=t[i],a=Array.isArray(o);if(0===i&&a&&(r=o.length),a&&o.length!==r)return;var u=a?Zt(o,e):e(o);if(void 0===n)n=u;else if(n!==u)return"mixed"}return n}function $t(t,e,n,r){function i(r){var i=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],o=t[i];void 0!==o&&(n[i]=o)}return n}(r,e.map(Wt));return function(t,e,n){if(!e.filter((function(t){return!function(t){return t&&"?"===t[0]}(t)})).every((function(t){return void 0!==n[t]}))){var r=e.filter((function(t){return void 0===n[t]}));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(r.map((function(t){return'"'.concat(t,'"')})).join(", "),"."))}}(t,e,r),n(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function Wt(t){return t&&"?"===t[0]?t.slice(1):t}kt.prototype=new RangeError,kt.prototype.constructor=RangeError,kt.prototype.name="DimensionError",kt.prototype.isDimensionError=!0,zt.prototype=new RangeError,zt.prototype.constructor=RangeError,zt.prototype.name="IndexError",zt.prototype.isIndexError=!0;var Qt=n(5),Kt=n.n(Qt);function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Yt=$t("Complex",[],(function(){return Kt.a.prototype.type="Complex",Kt.a.prototype.isComplex=!0,Kt.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Kt.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Kt.a.prototype.format=function(t){var e=this.im,n=this.re,r=bt(this.re,t),i=bt(this.im,t),o=w(t)?t:t?t.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(n/e)<a&&(n=0),Math.abs(e/n)<a&&(e=0)}return 0===e?r:0===n?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?r+" - i":r+" - "+i.substring(1)+"i":1===e?r+" + i":r+" + "+i+"i"},Kt.a.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"===Jt(e))return Kt()(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(w(n)){if(M(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),w(r))return new Kt.a({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Kt.a.prototype.valueOf=Kt.a.prototype.toString,Kt.a.fromJSON=function(t){return new Kt.a(t)},Kt.a.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Kt.a}),{isClass:!0});function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){return function n(){"object"!==Gt(n.cache)&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e(r):JSON.stringify(r);return o in n.cache||(n.cache[o]=t.apply(t,r)),n.cache[o]}}Xt((function(t){return new t(1).exp()}),ee),Xt((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),ee);var te=Xt((function(t){return t.acos(-1)}),ee);Xt((function(t){return te(t).times(2)}),ee);function ee(t){return t[0].precision}Math.PI,Math.PI,Math.E;var ne=n(9),re=n.n(ne),ie=$t("BigNumber",["?on","config"],(function(t){var e=t.on,n=t.config,r=re.a.clone({precision:n.precision,modulo:9});return r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(t){return new r(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&r.config({precision:t.precision})})),r}),{isClass:!0}),oe=$t("Matrix",[],(function(){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0});ae("fineStructure",.0072973525693),ae("weakMixingAngle",.2229),ae("efimovFactor",22.7),ae("sackurTetrode",-1.16487052358);function ae(t,e){return $t(t,["config","BigNumber"],(function(t){var n=t.config,r=t.BigNumber;return"BigNumber"===n.number?new r(e):e}))}var ue=n(7),se=n.n(ue),ce=$t("Fraction",[],(function(){return se.a.prototype.type="Fraction",se.a.prototype.isFraction=!0,se.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},se.a.fromJSON=function(t){return new se.a(t)},se.a}),{isClass:!0}),fe=$t("DenseMatrix",["Matrix"],(function(t){var e=t.Matrix;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!_(e))throw new Error("Invalid datatype: "+e);if(E(t))"DenseMatrix"===t.type?(this._data=ot(t._data),this._size=ot(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&N(t.data)&&N(t.size))this._data=t.data,this._size=t.size,qt(this._data,this._size),this._datatype=e||t.datatype;else if(N(t))this._data=function t(e){for(var n=0,r=e.length;n<r;n++){var i=e[n];N(i)?e[n]=t(i):i&&!0===i.isMatrix&&(e[n]=t(i.valueOf()))}return e}(t),this._size=Tt(this._data),qt(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+rt(t)+")");this._data=[],this._size=[0],this._datatype=e}}function r(t,e){if(!j(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r=e.size();if(r.length!==t._size.length)throw new kt(r.length,t._size.length);for(var i=e.min(),o=e.max(),a=0,u=t._size.length;a<u;a++)Bt(i[a],t._size[a]),Bt(o[a],t._size[a]);return new n(function t(e,n,r,i){var o=i===r-1,a=n.dimension(i);return o?a.map((function(t){return Bt(t,e.length),e[t]})).valueOf():a.map((function(o){Bt(o,e.length);var a=e[o];return t(a,n,r,i+1)})).valueOf()}(t._data,e,r.length,0),t._datatype)}function i(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,o=e.size(),u=e.isScalar();if(E(n)?(i=n.size(),n=n.valueOf()):i=Tt(n),u){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(o.length<t._size.length)throw new kt(o.length,t._size.length,"<");if(i.length<o.length){for(var s=0,c=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)c++,s++;n=Vt(n,o.length,c,i)}if(!st(o,i))throw new kt(o,i,">");a(t,e.max().map((function(t){return t+1})),r);var f=o.length;!function t(e,n,r,i,o){var a=o===i-1,u=n.dimension(o);a?u.forEach((function(t,n){Bt(t),e[t]=r[n[0]]})):u.forEach((function(a,u){Bt(a),t(e[a],n,r[u[0]],i,o+1)}))}(t._data,e,n,f,0)}return t}function o(t,e,n){if(0===e.length){for(var r=t._data;N(r);)r=r[0];return r}return t._size=e.slice(0),t._data=Ut(t._data,t._size,n),t}function a(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var a=0,u=e.length;a<u;a++)e[a]>r[a]&&(r[a]=e[a],i=!0);i&&o(t,r,n)}return n.prototype=new e,n.prototype.createDenseMatrix=function(t,e){return new n(t,e)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Zt(this._data,rt)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,e){return new n(t,e)},n.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return r(this,t);case 2:case 3:return i(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!N(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new kt(t.length,this._size.length);for(var e=0;e<t.length;e++)Bt(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var o=t[r];Bt(o,n.length),n=n[o]}return n},n.prototype.set=function(t,e,n){if(!N(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new kt(t.length,this._size.length,"<");var r,i,o;a(this,t.map((function(t){return t+1})),n);var u=this._data;for(r=0,i=t.length-1;r<i;r++)Bt(o=t[r],u.length),u=u[o];return Bt(o=t[t.length-1],u.length),u[o]=e,this},n.prototype.resize=function(t,e,n){if(!O(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((function(t){return Array.isArray(t)&&1===t.length?t[0]:t}));return o(n?this.clone():this,r,e)},n.prototype.reshape=function(t,e){var n=e?this.clone():this;return n._data=Lt(n._data,t),n._size=t.slice(0),n},n.prototype.clone=function(){return new n({data:ot(this._data),size:ot(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var e=this,r=function n(r,i){return N(r)?r.map((function(t,e){return n(t,i.concat(e))})):t(r,i,e)}(this._data,[]);return new n(r,void 0!==this._datatype?Zt(r,rt):void 0)},n.prototype.forEach=function(t){var e=this;!function n(r,i){N(r)?r.forEach((function(t,e){n(t,i.concat(e))})):t(r,i,e)}(this._data,[])},n.prototype.toArray=function(){return ot(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return Rt(this._data,t)},n.prototype.toString=function(){return Rt(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(b(t)&&(t=t.toNumber()),!w(t)||!dt(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,i=this._size[0],o=this._size[1],a=Math.min(i-r,o-e),u=[],s=0;s<a;s++)u[s]=this._data[s+r][s+e];return new n({data:u,size:[a],datatype:this._datatype})},n.diagonal=function(t,e,r,i){if(!N(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(b(t)&&(t=t.toNumber()),!w(t)||!dt(t)||t<1)throw new Error("Size values must be positive integers");return t})),r){if(b(r)&&(r=r.toNumber()),!w(r)||!dt(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var o,a=r>0?r:0,u=r<0?-r:0,s=t[0],c=t[1],f=Math.min(s-u,c-a);if(N(e)){if(e.length!==f)throw new Error("Invalid value array length");o=function(t){return e[t]}}else if(E(e)){var l=e.size();if(1!==l.length||l[0]!==f)throw new Error("Invalid matrix length");o=function(t){return e.get([t])}}else o=function(){return e};i||(i=b(o(0))?o(0).mul(0):0);var p=[];if(t.length>0){p=Ut(p,t,i);for(var h=0;h<f;h++)p[h+u][h+a]=o(h)}return new n({data:p,size:[s,c]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(t,e){if(!(w(t)&&dt(t)&&w(e)&&dt(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Bt(t,this._size[0]),Bt(e,this._size[0]),n._swapRows(t,e,this._data),this},n._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},n}),{isClass:!0}),le=n(18),pe=n.n(le),he=function(){return he=pe.a.create,pe.a},de=$t("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var e=t.BigNumber,n=t.Complex,r=t.DenseMatrix,i=t.Fraction,o=he();return o.types=[{name:"number",test:w},{name:"Complex",test:x},{name:"BigNumber",test:b},{name:"Fraction",test:S},{name:"Unit",test:M},{name:"string",test:_},{name:"Chain",test:nt},{name:"Array",test:N},{name:"Matrix",test:E},{name:"DenseMatrix",test:P},{name:"SparseMatrix",test:I},{name:"Range",test:C},{name:"Index",test:j},{name:"boolean",test:A},{name:"ResultSet",test:D},{name:"Help",test:F},{name:"function",test:R},{name:"Date",test:k},{name:"RegExp",test:z},{name:"null",test:q},{name:"undefined",test:B},{name:"AccessorNode",test:U},{name:"ArrayNode",test:L},{name:"AssignmentNode",test:V},{name:"BlockNode",test:H},{name:"ConditionalNode",test:Z},{name:"ConstantNode",test:$},{name:"FunctionNode",test:Q},{name:"FunctionAssignmentNode",test:W},{name:"IndexNode",test:K},{name:"Node",test:J},{name:"ObjectNode",test:Y},{name:"OperatorNode",test:G},{name:"ParenthesisNode",test:X},{name:"RangeNode",test:tt},{name:"SymbolNode",test:et},{name:"Object",test:T}],o.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||ge(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return n||me(t),new n(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return n||me(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||me(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||ve(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||ge(t);try{return new e(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||ve(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||me(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||ge(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||ve(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],o}));function ge(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function me(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function ve(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}function ye(t){for(var e=0;e<t.length;e++)if(O(t[e]))return!0;return!1}function we(t,e){E(t)&&(t=t.valueOf());for(var n=0,r=t.length;n<r;n++){var i=t[n];Array.isArray(i)?we(i,e):e(i)}}function be(t,e,n){return t&&"function"==typeof t.map?t.map((function(t){return be(t,e,n)})):e(t)}var xe=$t("isInteger",["typed"],(function(t){return(0,t.typed)("isInteger",{number:dt,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":function(t){return be(t,this)}})})),Se=$t("isNumeric",["typed"],(function(t){return(0,t.typed)("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(t){return be(t,this)}})})),Me="number";function _e(t){return t<0}function Ne(t){return t>0}function Ee(t){return 0===t}function Oe(t){return Number.isNaN(t)}_e.signature=Me,Ne.signature=Me,Ee.signature=Me,Oe.signature=Me;var Pe=$t("isNaN",["typed"],(function(t){return(0,t.typed)("isNaN",{number:Oe,BigNumber:function(t){return t.isNaN()},Fraction:function(t){return!1},Complex:function(t){return t.isNaN()},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":function(t){return be(t,Number.isNaN)}})}));function Ie(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}var Ce=$t("equalScalar",["typed","config"],(function(t){var e=t.typed,n=t.config;return e("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return Ot(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||Ie(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,n){return Ot(t.re,e.re,n)&&Ot(t.im,e.im,n)}(t,e,n.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})})),je=($t("equalScalar",["typed","config"],(function(t){var e=t.typed,n=t.config;return e("equalScalar",{"number, number":function(t,e){return Ot(t,e,n.epsilon)}})})),$t("number",["typed"],(function(t){var e=(0,t.typed)("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');if(["0b","0o","0x"].includes(t.substring(0,2))){if(e>Math.pow(2,32)-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));2147483648&e&&(e=-1*~(e-1))}return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return be(t,this)}});return e.fromJSON=function(t){return parseFloat(t.value)},e}))),Ae="number, number";function De(t){return Math.abs(t)}function Fe(t,e){return t+e}function Re(t,e){return t*e}function ke(t){return-t}function ze(t){return t}function Te(t){return yt(t)}function qe(t){return Math.ceil(t)}function Be(t){return t*t*t}function Ue(t){return Math.exp(t)}function Le(t){return wt(t)}function Ve(t,e){if(!dt(t)||!dt(e))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==e;)n=t%e,t=e,e=n;return t<0?-t:t}function He(t,e){if(!dt(t)||!dt(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===e)return 0;for(var n,r=t*e;0!==e;)e=t%(n=e),t=n;return Math.abs(r/t)}function Ze(t){return Math.log(t)}function $e(t){return vt(t)}function We(t){return mt(t)}function Qe(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function Ke(t,e){var n=e<0;if(n&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===t)return n?1/0:0;if(!isFinite(t))return n?0:t;var r=Math.pow(Math.abs(t),1/e);return r=t<0?-r:r,n?1/r:r}function Je(t){return gt(t)}function Ye(t){return t*t}function Ge(t,e){var n,r,i,o=0,a=1,u=1,s=0;if(!dt(t)||!dt(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=t-(r=Math.floor(t/e))*e,n=o,o=a-r*o,a=n,n=u,u=s-r*u,s=n,t=e,e=i;return t<0?[-t,-a,-s]:[t,t?a:0,s]}function Xe(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(St(t,e))}De.signature="number",Fe.signature=Ae,Re.signature=Ae,ke.signature="number",ze.signature="number",Te.signature="number",qe.signature="number",Be.signature="number",Ue.signature="number",Le.signature="number",Ve.signature=Ae,He.signature=Ae,Ze.signature="number",$e.signature="number",We.signature="number",Qe.signature=Ae,Ke.signature=Ae,Je.signature="number",Ye.signature="number",Ge.signature=Ae,Xe.signature=Ae,tn.signature=Ae;var en=$t("apply",["typed","isInteger"],(function(t){var e=t.typed,n=t.isInteger;return e("apply",{"Array | Matrix, number | BigNumber, function":function(t,e,r){if(!n(e))throw new TypeError("Integer number expected for dimension");var i=Array.isArray(t)?Tt(t):t.size();if(e<0||e>=i.length)throw new zt(e,i.length);return E(t)?t.create(nn(t.valueOf(),e,r)):nn(t,e,r)}})}));function nn(t,e,n){var r,i,o;if(e<=0){if(Array.isArray(t[0])){for(o=function(t){var e,n,r=t.length,i=t[0].length,o=[];for(n=0;n<i;n++){var a=[];for(e=0;e<r;e++)a.push(t[e][n]);o.push(a)}return o}(t),i=[],r=0;r<o.length;r++)i[r]=nn(o[r],e-1,n);return i}return n(t)}for(i=[],r=0;r<t.length;r++)i[r]=nn(t[r],e-1,n);return i}var rn=$t("multiplyScalar",["typed"],(function(t){return(0,t.typed)("multiplyScalar",{"number, number":Re,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var n=e.clone();return n.value=null===n.value?n._normalize(t):this(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var n=t.clone();return n.value=null===n.value?n._normalize(e):this(n.value,e),n},"Unit, Unit":function(t,e){return t.multiply(e)}})}));var on="number, number";function an(t,e){if(!dt(t)||!dt(e))throw new Error("Integers expected in function bitAnd");return t&e}function un(t){if(!dt(t))throw new Error("Integer expected in function bitNot");return~t}function sn(t,e){if(!dt(t)||!dt(e))throw new Error("Integers expected in function bitOr");return t|e}function cn(t,e){if(!dt(t)||!dt(e))throw new Error("Integers expected in function bitXor");return t^e}function fn(t,e){if(!dt(t)||!dt(e))throw new Error("Integers expected in function leftShift");return t<<e}function ln(t,e){if(!dt(t)||!dt(e))throw new Error("Integers expected in function rightArithShift");return t>>e}function pn(t,e){if(!dt(t)||!dt(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}an.signature=on,un.signature="number",sn.signature=on,cn.signature=on,fn.signature=on,ln.signature=on,pn.signature=on;function hn(t){return!t}function dn(t,e){return!(!t&&!e)}function gn(t,e){return!!t!=!!e}function mn(t,e){return!(!t||!e)}hn.signature="number",dn.signature="number, number",gn.signature="number, number",mn.signature="number, number";Math.pow(2,53);function vn(t){var e={2:"0b",8:"0o",16:"0x"}[t];return function(n){if(n>Math.pow(2,31)-1||n<-Math.pow(2,31))throw new Error("Value must be in range [-2^31, 2^31-1]");if(!dt(n))throw new Error("Value must be an integer");return n<0&&(n+=Math.pow(2,32)),"".concat(e).concat(n.toString(t))}}var yn=["typed"];function wn(t,e){return $t(t,yn,(function(n){return(0,n.typed)(t,{number:vn(e)})}))}wn("oct",8);function bn(t){return Pt(t)}function xn(t){return Math.atan(1/t)}function Sn(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function Mn(t){return Math.asin(1/t)}function _n(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}function Nn(t){return Math.acos(1/t)}function En(t){var e=1/t,n=Math.sqrt(e*e-1);return Math.log(n+e)}function On(t){return It(t)}function Pn(t){return Ct(t)}function In(t){return 1/Math.tan(t)}function Cn(t){var e=Math.exp(2*t);return(e+1)/(e-1)}function jn(t){return 1/Math.sin(t)}function An(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*gt(t)}function Dn(t){return 1/Math.cos(t)}function Fn(t){return 2/(Math.exp(t)+Math.exp(-t))}function Rn(t){return jt(t)}bn.signature="number",xn.signature="number",Sn.signature="number",Mn.signature="number",_n.signature="number",Nn.signature="number",En.signature="number",On.signature="number",Pn.signature="number",In.signature="number",Cn.signature="number",jn.signature="number",An.signature="number",Dn.signature="number",Fn.signature="number",Rn.signature="number";function kn(t,e){if(e<t)return 1;if(e===t)return e;var n=e+t>>1;return kn(t,n)*kn(n+1,e)}function zn(t,e){if(!dt(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!dt(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");var n=t-e;return e<n?kn(n+1,t)/kn(1,e):kn(e+1,t)/kn(1,n)}zn.signature="number, number";n(19);var Tn=$t("fraction",["typed","Fraction"],(function(t){var e=t.typed,n=t.Fraction;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,e){return new n(t,e)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Object:function(t){return new n(t)},"Array | Matrix":function(t){return be(t,this)}})})),qn=$t("unaryMinus",["typed"],(function(t){return(0,t.typed)("unaryMinus",{number:ke,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=this(t.value),e},"Array | Matrix":function(t){return be(t,this,!0)}})})),Bn=$t("addScalar",["typed"],(function(t){return(0,t.typed)("addScalar",{"number, number":Fe,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=this(n.value,e.value),n.fixPrefix=!1,n}})})),Un=$t("sqrt",["config","typed","Complex"],(function(t){var e=t.config,n=t.typed,r=t.Complex;return n("sqrt",{number:i,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||e.predictable?t.sqrt():i(t.toNumber())},"Array | Matrix":function(t){return be(t,this,!0)},Unit:function(t){return t.pow(.5)}});function i(t){return isNaN(t)?NaN:t>=0||e.predictable?Math.sqrt(t):new r(t,0).sqrt()}})),Ln=$t("conj",["typed"],(function(t){return(0,t.typed)("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return be(t,this)}})}));wn("bin",2);var Vn=$t("SparseMatrix",["typed","equalScalar","Matrix"],(function(t){var e=t.typed,n=t.equalScalar,r=t.Matrix;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!_(e))throw new Error("Invalid datatype: "+e);if(E(t))!function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?ot(e._values):void 0,t._index=ot(e._index),t._ptr=ot(e._ptr),t._size=ot(e._size),t._datatype=n||e._datatype):o(t,e.valueOf(),n||e._datatype)}(this,t,e);else if(t&&N(t.index)&&N(t.ptr)&&N(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(N(t))o(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+rt(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function o(t,r,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var o=r.length,a=0,u=n,s=0;if(_(i)&&(u=e.find(n,[i,i])||n,s=e.convert(0,i)),o>0){var c=0;do{t._ptr.push(t._index.length);for(var f=0;f<o;f++){var l=r[f];if(N(l)){if(0===c&&a<l.length&&(a=l.length),c<l.length){var p=l[c];u(p,s)||(t._values.push(p),t._index.push(f))}}else 0===c&&a<1&&(a=1),u(l,s)||(t._values.push(l),t._index.push(f))}c++}while(c<a)}t._ptr.push(t._index.length),t._size=[o,a]}function a(t,e){if(!j(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,r,o,a,u=e.size();if(u.length!==t._size.length)throw new kt(u.length,t._size.length);var s=e.min(),c=e.max();for(n=0,r=t._size.length;n<r;n++)Bt(s[n],t._size[n]),Bt(c[n],t._size[n]);var f=t._values,l=t._index,p=t._ptr,h=e.dimension(0),d=e.dimension(1),g=[],m=[];h.forEach((function(t,e){m[t]=e[0],g[t]=!0}));var v=f?[]:void 0,y=[],w=[];return d.forEach((function(t){for(w.push(y.length),o=p[t],a=p[t+1];o<a;o++)n=l[o],!0===g[n]&&(y.push(m[n]),v&&v.push(f[o]))})),w.push(y.length),new i({values:v,index:y,ptr:w,size:u,datatype:t._datatype})}function u(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,o=e.size(),a=e.isScalar();if(E(n)?(i=n.size(),n=n.toArray()):i=Tt(n),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==o.length&&2!==o.length)throw new kt(o.length,t._size.length,"<");if(i.length<o.length){for(var u=0,s=0;1===o[u]&&1===i[u];)u++;for(;1===o[u];)s++,u++;n=Vt(n,o.length,s,i)}if(!st(o,i))throw new kt(o,i,">");for(var c=e.min()[0],f=e.min()[1],l=i[0],p=i[1],h=0;h<l;h++)for(var d=0;d<p;d++){var g=n[h][d];t.set([h+c,d+f],g,r)}}return t}function s(t,e,n,r){if(n-e==0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e}function c(t,e,n,r,i,o,a){i.splice(t,0,r),o.splice(t,0,e);for(var u=n+1;u<a.length;u++)a[u]++}function f(t,r,i,o){var a=o||0,u=n,s=0;_(t._datatype)&&(u=e.find(n,[t._datatype,t._datatype])||n,s=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var c,f,l,p=!u(a,s),h=t._size[0],d=t._size[1];if(i>d){for(f=d;f<i;f++)if(t._ptr[f]=t._values.length,p)for(c=0;c<h;c++)t._values.push(a),t._index.push(c);t._ptr[i]=t._values.length}else i<d&&(t._ptr.splice(i+1,d-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(d=i,r>h){if(p){var g=0;for(f=0;f<d;f++){t._ptr[f]=t._ptr[f]+g,l=t._ptr[f+1]+g;var m=0;for(c=h;c<r;c++,m++)t._values.splice(l+m,0,a),t._index.splice(l+m,0,c),g++}t._ptr[d]=t._values.length}}else if(r<h){var v=0;for(f=0;f<d;f++){t._ptr[f]=t._ptr[f]-v;var y=t._ptr[f],w=t._ptr[f+1]-v;for(l=y;l<w;l++)(c=t._index[l])>r-1&&(t._values.splice(l,1),t._index.splice(l,1),v++)}t._ptr[f]=t._values.length}return t._size[0]=r,t._size[1]=i,t}function l(t,e,n,r,i){var o,a,u=r[0],s=r[1],c=[];for(o=0;o<u;o++)for(c[o]=[],a=0;a<s;a++)c[o][a]=0;for(a=0;a<s;a++)for(var f=n[a],l=n[a+1],p=f;p<l;p++)c[o=e[p]][a]=t?i?ot(t[p]):t[p]:1;return c}return i.prototype=new r,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Zt(this._values,rt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,t);case 2:case 3:return u(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!N(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new kt(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];Bt(e,this._size[0]),Bt(n,this._size[1]);var r=s(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},i.prototype.set=function(t,r,i){if(!N(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new kt(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var o=t[0],a=t[1],u=this._size[0],l=this._size[1],p=n,h=0;_(this._datatype)&&(p=e.find(n,[this._datatype,this._datatype])||n,h=e.convert(0,this._datatype)),(o>u-1||a>l-1)&&(f(this,Math.max(o+1,u),Math.max(a+1,l),i),u=this._size[0],l=this._size[1]),Bt(o,u),Bt(a,l);var d=s(o,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===o?p(r,h)?function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--}(d,a,this._values,this._index,this._ptr):this._values[d]=r:c(d,o,a,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,n){if(!O(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((function(t){return Array.isArray(t)&&1===t.length?t[0]:t}));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(t){if(!w(t)||!dt(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Rt(r)+")")})),f(n?this.clone():this,r[0],r[1],e)},i.prototype.reshape=function(t,e){if(!N(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!w(e)||!dt(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Rt(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return n;for(var r=[],i=0;i<n._ptr.length;i++)for(var o=0;o<n._ptr[i+1]-n._ptr[i];o++)r.push(i);for(var a=n._values.slice(),u=n._index.slice(),f=0;f<n._index.length;f++){var l=u[f],p=r[f],h=l*n._size[1]+p;r[f]=h%t[1],u[f]=Math.floor(h/t[1])}n._values.length=0,n._index.length=0,n._ptr.length=t[1]+1,n._size=t.slice();for(var d=0;d<n._ptr.length;d++)n._ptr[d]=0;for(var g=0;g<a.length;g++){var m=u[g],v=r[g],y=a[g];c(s(m,n._ptr[v],n._ptr[v+1],n._index),m,v,y,n._values,n._index,n._ptr)}return n},i.prototype.clone=function(){return new i({values:this._values?ot(this._values):void 0,index:ot(this._index),ptr:ot(this._ptr),size:ot(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this;return function(t,r,o,a,u,s,c){var f=[],l=[],p=[],h=n,d=0;_(t._datatype)&&(h=e.find(n,[t._datatype,t._datatype])||n,d=e.convert(0,t._datatype));for(var g=function(t,e,n){t=s(t,e,n),h(t,d)||(f.push(t),l.push(e))},m=a;m<=u;m++){p.push(f.length);var v=t._ptr[m],y=t._ptr[m+1];if(c)for(var w=v;w<y;w++){var b=t._index[w];b>=r&&b<=o&&g(t._values[w],b-r,m-a)}else{for(var x={},S=v;S<y;S++){var M=t._index[S];x[M]=t._values[S]}for(var N=r;N<=o;N++){var E=N in x?x[N]:0;g(E,N-r,m-a)}}}return p.push(f.length),new i({values:f,index:l,ptr:p,size:[o-r+1,u-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,n,r){return t(e,[n,r],o)}),r)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var o=this._ptr[i],a=this._ptr[i+1];if(e)for(var u=o;u<a;u++){var s=this._index[u];t(this._values[u],[s,i],this)}else{for(var c={},f=o;f<a;f++){c[this._index[f]]=this._values[f]}for(var l=0;l<n;l++){t(l in c?c[l]:0,[l,i],this)}}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+Rt(e,t)+" x "+Rt(n,t)+"] density: "+Rt(r,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],u=this._ptr[o+1],s=a;s<u;s++){i+="\n    ("+Rt(this._index[s],t)+", "+Rt(o,t)+") ==> "+(this._values?Rt(this._values[s],t):"X")}return i},i.prototype.toString=function(){return Rt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(b(t)&&(t=t.toNumber()),!w(t)||!dt(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],o=this._size[1],a=Math.min(r-n,o-e),u=[],s=[],c=[];c[0]=0;for(var f=e;f<o&&u.length<a;f++)for(var l=this._ptr[f],p=this._ptr[f+1],h=l;h<p;h++){var d=this._index[h];if(d===f-e+n){u.push(this._values[h]),s[u.length-1]=d-n;break}}return c.push(u.length),new i({values:u,index:s,ptr:c,size:[a,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,r,o,a,u){if(!N(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(b(t)&&(t=t.toNumber()),!w(t)||!dt(t)||t<1)throw new Error("Size values must be positive integers");return t})),o){if(b(o)&&(o=o.toNumber()),!w(o)||!dt(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var s=n,c=0;_(u)&&(s=e.find(n,[u,u])||n,c=e.convert(0,u));var f,l=o>0?o:0,p=o<0?-o:0,h=t[0],d=t[1],g=Math.min(h-p,d-l);if(N(r)){if(r.length!==g)throw new Error("Invalid value array length");f=function(t){return r[t]}}else if(E(r)){var m=r.size();if(1!==m.length||m[0]!==g)throw new Error("Invalid matrix length");f=function(t){return r.get([t])}}else f=function(){return r};for(var v=[],y=[],x=[],S=0;S<d;S++){x.push(v.length);var M=S-l;if(M>=0&&M<g){var O=f(M);s(O,c)||(y.push(M+p),v.push(O))}}return x.push(v.length),new i({values:v,index:y,ptr:x,size:[h,d]})},i.prototype.swapRows=function(t,e){if(!(w(t)&&dt(t)&&w(e)&&dt(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Bt(t,this._size[0]),Bt(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,n,r,i){for(var o=r[t],a=r[t+1],u=o;u<a;u++)i(n[u],e[u])},i._swapRows=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var u=o[a],c=o[a+1],f=s(t,u,c,i),l=s(e,u,c,i);if(f<c&&l<c&&i[f]===t&&i[l]===e){if(r){var p=r[f];r[f]=r[l],r[l]=p}}else if(f<c&&i[f]===t&&(l>=c||i[l]!==e)){var h=r?r[f]:void 0;i.splice(l,0,e),r&&r.splice(l,0,h),i.splice(l<=f?f+1:f,1),r&&r.splice(l<=f?f+1:f,1)}else if(l<c&&i[l]===e&&(f>=c||i[f]!==t)){var d=r?r[l]:void 0;i.splice(f,0,t),r&&r.splice(f,0,d),i.splice(f<=l?l+1:l,1),r&&r.splice(f<=l?l+1:l,1)}}},i}),{isClass:!0}),Hn=$t("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,n=(t.Matrix,t.DenseMatrix),r=t.SparseMatrix;return e("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(t,e,i){if("dense"===e||"default"===e||void 0===e)return new n(t,i);if("sparse"===e)return new r(t,i);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),Zn=$t("algorithm01",["typed"],(function(t){var e=t.typed;return function(t,n,r,i){var o=t._data,a=t._size,u=t._datatype,s=n._values,c=n._index,f=n._ptr,l=n._size,p=n._datatype;if(a.length!==l.length)throw new kt(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,d,g=a[0],m=a[1],v="string"==typeof u&&u===p?u:void 0,y=v?e.find(r,[v,v]):r,w=[];for(h=0;h<g;h++)w[h]=[];var b=[],x=[];for(d=0;d<m;d++){for(var S=d+1,M=f[d],_=f[d+1],N=M;N<_;N++)b[h=c[N]]=i?y(s[N],o[h][d]):y(o[h][d],s[N]),x[h]=S;for(h=0;h<g;h++)x[h]===S?w[h][d]=b[h]:w[h][d]=o[h][d]}return t.createDenseMatrix({data:w,size:[g,m],datatype:v})}})),$n=$t("algorithm04",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i){var o=t._values,a=t._index,u=t._ptr,s=t._size,c=t._datatype,f=r._values,l=r._index,p=r._ptr,h=r._size,d=r._datatype;if(s.length!==h.length)throw new kt(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");var g,m=s[0],v=s[1],y=n,w=0,b=i;"string"==typeof c&&c===d&&(g=c,y=e.find(n,[g,g]),w=e.convert(0,g),b=e.find(i,[g,g]));var x,S,M,_,N,E=o&&f?[]:void 0,O=[],P=[],I=o&&f?[]:void 0,C=o&&f?[]:void 0,j=[],A=[];for(S=0;S<v;S++){P[S]=O.length;var D=S+1;for(_=u[S],N=u[S+1],M=_;M<N;M++)x=a[M],O.push(x),j[x]=D,I&&(I[x]=o[M]);for(_=p[S],N=p[S+1],M=_;M<N;M++)if(j[x=l[M]]===D){if(I){var F=b(I[x],f[M]);y(F,w)?j[x]=null:I[x]=F}}else O.push(x),A[x]=D,C&&(C[x]=f[M]);if(I&&C)for(M=P[S];M<O.length;)j[x=O[M]]===D?(E[M]=I[x],M++):A[x]===D?(E[M]=C[x],M++):O.splice(M,1)}return P[v]=O.length,t.createSparseMatrix({values:E,index:O,ptr:P,size:[m,v],datatype:g})}})),Wn=$t("algorithm10",["typed","DenseMatrix"],(function(t){var e=t.typed,n=t.DenseMatrix;return function(t,r,i,o){var a=t._values,u=t._index,s=t._ptr,c=t._size,f=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=c[0],h=c[1],d=i;"string"==typeof f&&(l=f,r=e.convert(r,l),d=e.find(i,[l,l]));for(var g=[],m=[],v=[],y=0;y<h;y++){for(var w=y+1,b=s[y],x=s[y+1],S=b;S<x;S++){var M=u[S];m[M]=a[S],v[M]=w}for(var _=0;_<p;_++)0===y&&(g[_]=[]),v[_]===w?g[_][y]=o?d(r,m[_]):d(m[_],r):g[_][y]=r}return new n({data:g,size:[p,h],datatype:l})}})),Qn=$t("algorithm13",["typed"],(function(t){var e=t.typed;return function(t,n,r){var i,o=t._data,a=t._size,u=t._datatype,s=n._data,c=n._size,f=n._datatype,l=[];if(a.length!==c.length)throw new kt(a.length,c.length);for(var p=0;p<a.length;p++){if(a[p]!==c[p])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+c+")");l[p]=a[p]}var h=r;"string"==typeof u&&u===f&&(i=u,h=e.find(r,[i,i]));var d=l.length>0?function t(e,n,r,i,o,a){var u=[];if(n===r.length-1)for(var s=0;s<i;s++)u[s]=e(o[s],a[s]);else for(var c=0;c<i;c++)u[c]=t(e,n+1,r,r[n+1],o[c],a[c]);return u}(h,0,l,l[0],o,s):[];return t.createDenseMatrix({data:d,size:l,datatype:i})}})),Kn=$t("algorithm14",["typed"],(function(t){var e=t.typed;return function(t,n,r,i){var o,a=t._data,u=t._size,s=t._datatype,c=r;"string"==typeof s&&(o=s,n=e.convert(n,o),c=e.find(r,[o,o]));var f=u.length>0?function t(e,n,r,i,o,a,u){var s=[];if(n===r.length-1)for(var c=0;c<i;c++)s[c]=u?e(a,o[c]):e(o[c],a);else for(var f=0;f<i;f++)s[f]=t(e,n+1,r,r[n+1],o[f],a,u);return s}(c,0,u,u[0],a,n,i):[];return t.createDenseMatrix({data:f,size:ot(u),datatype:o})}})),Jn=$t("algorithm03",["typed"],(function(t){var e=t.typed;return function(t,n,r,i){var o=t._data,a=t._size,u=t._datatype,s=n._values,c=n._index,f=n._ptr,l=n._size,p=n._datatype;if(a.length!==l.length)throw new kt(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,d=a[0],g=a[1],m=0,v=r;"string"==typeof u&&u===p&&(h=u,m=e.convert(0,h),v=e.find(r,[h,h]));for(var y=[],w=0;w<d;w++)y[w]=[];for(var b=[],x=[],S=0;S<g;S++){for(var M=S+1,_=f[S],N=f[S+1],E=_;E<N;E++){var O=c[E];b[O]=i?v(s[E],o[O][S]):v(o[O][S],s[E]),x[O]=M}for(var P=0;P<d;P++)x[P]===M?y[P][S]=b[P]:y[P][S]=i?v(m,o[P][S]):v(o[P][S],m)}return t.createDenseMatrix({data:y,size:[d,g],datatype:h})}})),Yn=$t("algorithm05",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i){var o=t._values,a=t._index,u=t._ptr,s=t._size,c=t._datatype,f=r._values,l=r._index,p=r._ptr,h=r._size,d=r._datatype;if(s.length!==h.length)throw new kt(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");var g,m=s[0],v=s[1],y=n,w=0,b=i;"string"==typeof c&&c===d&&(g=c,y=e.find(n,[g,g]),w=e.convert(0,g),b=e.find(i,[g,g]));var x,S,M,_,N=o&&f?[]:void 0,E=[],O=[],P=N?[]:void 0,I=N?[]:void 0,C=[],j=[];for(S=0;S<v;S++){O[S]=E.length;var A=S+1;for(M=u[S],_=u[S+1];M<_;M++)x=a[M],E.push(x),C[x]=A,P&&(P[x]=o[M]);for(M=p[S],_=p[S+1];M<_;M++)C[x=l[M]]!==A&&E.push(x),j[x]=A,I&&(I[x]=f[M]);if(N)for(M=O[S];M<E.length;){var D=C[x=E[M]],F=j[x];if(D===A||F===A){var R=b(D===A?P[x]:w,F===A?I[x]:w);y(R,w)?E.splice(M,1):(N.push(R),M++)}}}return O[v]=E.length,t.createSparseMatrix({values:N,index:E,ptr:O,size:[m,v],datatype:g})}})),Gn=$t("algorithm11",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i,o){var a=t._values,u=t._index,s=t._ptr,c=t._size,f=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=c[0],h=c[1],d=n,g=0,m=i;"string"==typeof f&&(l=f,d=e.find(n,[l,l]),g=e.convert(0,l),r=e.convert(r,l),m=e.find(i,[l,l]));for(var v=[],y=[],w=[],b=0;b<h;b++){w[b]=y.length;for(var x=s[b],S=s[b+1],M=x;M<S;M++){var _=u[M],N=o?m(r,a[M]):m(a[M],r);d(N,g)||(y.push(_),v.push(N))}}return w[h]=y.length,t.createSparseMatrix({values:v,index:y,ptr:w,size:[p,h],datatype:l})}})),Xn=$t("algorithm12",["typed","DenseMatrix"],(function(t){var e=t.typed,n=t.DenseMatrix;return function(t,r,i,o){var a=t._values,u=t._index,s=t._ptr,c=t._size,f=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=c[0],h=c[1],d=i;"string"==typeof f&&(l=f,r=e.convert(r,l),d=e.find(i,[l,l]));for(var g=[],m=[],v=[],y=0;y<h;y++){for(var w=y+1,b=s[y],x=s[y+1],S=b;S<x;S++){var M=u[S];m[M]=a[S],v[M]=w}for(var _=0;_<p;_++)0===y&&(g[_]=[]),v[_]===w?g[_][y]=o?d(r,m[_]):d(m[_],r):g[_][y]=o?d(r,0):d(0,r)}return new n({data:g,size:[p,h],datatype:l})}})),tr=$t("algorithm07",["typed","DenseMatrix"],(function(t){var e=t.typed,n=t.DenseMatrix;return function(t,i,o){var a=t._size,u=t._datatype,s=i._size,c=i._datatype;if(a.length!==s.length)throw new kt(a.length,s.length);if(a[0]!==s[0]||a[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+s+")");var f,l,p,h=a[0],d=a[1],g=0,m=o;"string"==typeof u&&u===c&&(f=u,g=e.convert(0,f),m=e.find(o,[f,f]));var v=[];for(l=0;l<h;l++)v[l]=[];var y=[],w=[],b=[],x=[];for(p=0;p<d;p++){var S=p+1;for(r(t,p,b,y,S),r(i,p,x,w,S),l=0;l<h;l++){var M=b[l]===S?y[l]:g,_=x[l]===S?w[l]:g;v[l][p]=m(M,_)}}return new n({data:v,size:[h,d],datatype:f})};function r(t,e,n,r,i){for(var o=t._values,a=t._index,u=t._ptr,s=u[e],c=u[e+1];s<c;s++){var f=a[s];n[f]=i,r[f]=o[s]}}}));var er=$t("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.BigNumber,o=t.DenseMatrix,a=t.SparseMatrix;return e("identity",{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(t){return r(t)},"number | BigNumber":function(t){return s(t,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(t,e){return s(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return s(t,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,n){return s(t,e,n)},Array:function(t){return u(t)},"Array, string":function(t,e){return u(t,e)},Matrix:function(t){return u(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return u(t.valueOf(),e)}});function u(t,e){switch(t.length){case 0:return e?r(e):[];case 1:return s(t[0],t[0],e);case 2:return s(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function s(t,e,n){var r=b(t)||b(e)?i:null;if(b(t)&&(t=t.toNumber()),b(e)&&(e=e.toNumber()),!dt(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!dt(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var u=r?new i(1):1,s=r?new r(0):0,c=[t,e];if(n){if("sparse"===n)return a.diagonal(c,u,0,s);if("dense"===n)return o.diagonal(c,u,0,s);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var f=Ut([],c,s),l=t<e?t:e,p=0;p<l;p++)f[p][p]=u;return f}}));function nr(){throw new Error('No "bignumber" implementation available')}function rr(){throw new Error('No "fraction" implementation available')}function ir(){throw new Error('No "matrix" implementation available')}var or=$t("size",["typed","config","?matrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix;return e("size",{Matrix:function(t){return t.create(t.size())},Array:Tt,string:function(t){return"Array"===n.matrix?[t.length]:r([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===n.matrix?[]:r?r([]):ir()}})}));wn("hex",16);var ar=$t("compare",["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.equalScalar,i=t.matrix,o=t.BigNumber,a=t.Fraction,u=t.DenseMatrix,s=Jn({typed:e}),c=Yn({typed:e,equalScalar:r}),f=Xn({typed:e,DenseMatrix:u}),l=Qn({typed:e}),p=Kn({typed:e});return e("compare",{"boolean, boolean":function(t,e){return t===e?0:t>e?1:-1},"number, number":function(t,e){return Ot(t,e,n.epsilon)?0:t>e?1:-1},"BigNumber, BigNumber":function(t,e){return Ie(t,e,n.epsilon)?new o(0):new o(t.cmp(e))},"Fraction, Fraction":function(t,e){return new a(t.compare(e))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,this)},"Array, Array":function(t,e){return this(i(t),i(e)).valueOf()},"Array, Matrix":function(t,e){return this(i(t),e)},"Matrix, Array":function(t,e){return this(t,i(e))},"SparseMatrix, any":function(t,e){return f(t,e,this,!1)},"DenseMatrix, any":function(t,e){return p(t,e,this,!1)},"any, SparseMatrix":function(t,e){return f(e,t,this,!0)},"any, DenseMatrix":function(t,e){return p(e,t,this,!0)},"Array, any":function(t,e){return p(i(t),e,this,!1).valueOf()},"any, Array":function(t,e){return p(i(e),t,this,!0).valueOf()}})})),ur=$t("smaller",["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.DenseMatrix,o=Jn({typed:e}),a=tr({typed:e,DenseMatrix:i}),u=Xn({typed:e,DenseMatrix:i}),s=Qn({typed:e}),c=Kn({typed:e});return e("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!Ot(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!Ie(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return s(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return c(t,e,this,!1)},"any, SparseMatrix":function(t,e){return u(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(r(e),t,this,!0).valueOf()}})})),sr=$t("larger",["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.DenseMatrix,o=Jn({typed:e}),a=tr({typed:e,DenseMatrix:i}),u=Xn({typed:e,DenseMatrix:i}),s=Qn({typed:e}),c=Kn({typed:e});return e("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!Ot(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!Ie(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return s(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return c(t,e,this,!1)},"any, SparseMatrix":function(t,e){return u(e,t,this,!0)},"any, DenseMatrix":function(t,e){return c(e,t,this,!0)},"Array, any":function(t,e){return c(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return c(r(e),t,this,!0).valueOf()}})})),cr=($t("unequal",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return e("unequal",{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:!n(t,e)}})})),$t("FibonacciHeap",["smaller","larger"],(function(t){var e=t.smaller,n=t.larger,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(t,e,n){e.left.right=e.right,e.right.left=e.left,n.degree--,n.child===e&&(n.child=e.right),0===n.degree&&(n.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,n){var r={key:t,value:n,degree:0};if(this._minimum){var i=this._minimum;r.left=i,r.right=i.right,i.right=r,r.right.left=r,e(t,i.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var i=this._minimum,o=t.degree,u=t.child;o>0;){var s=u.right;u.left.right=u.right,u.right.left=u.left,u.left=i,u.right=i.right,i.right=u,u.right.left=u,u.parent=null,u=s,o--}return t.left.right=t.right,t.right.left=t.left,i=t===t.right?null:function(t,i){var o,u=Math.floor(Math.log(i)*r)+1,s=new Array(u),c=0,f=t;if(f)for(c++,f=f.right;f!==t;)c++,f=f.right;for(;c>0;){for(var l=f.degree,p=f.right;o=s[l];){if(n(f.key,o.key)){var h=o;o=f,f=h}a(o,f),s[l]=null,l++}s[l]=f,f=p,c--}t=null;for(var d=0;d<u;d++)(o=s[d])&&(t?(o.left.right=o.right,o.right.left=o.left,o.left=t,o.right=t.right,t.right=o,o.right.left=o,e(o.key,t.key)&&(t=o)):t=o);return t}(i=t.right,this._size),this._size--,this._minimum=i,t},i.prototype.remove=function(t){this._minimum=function(t,n,r){n.key=r;var i=n.parent;i&&e(n.key,i.key)&&(o(t,n,i),function t(e,n){var r=n.parent;if(!r)return;n.mark?(o(e,n,r),t(r)):n.mark=!0}(t,i));e(n.key,t.key)&&(t=n);return t}(this._minimum,t,-1),this.extractMinimum()};var a=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1};return i}),{isClass:!0})),fr=$t("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.addScalar,i=t.equalScalar,o=t.DenseMatrix,a=(t.SparseMatrix,Zn({typed:e})),u=$n({typed:e,equalScalar:i}),s=Wn({typed:e,DenseMatrix:o}),c=Qn({typed:e}),f=Kn({typed:e});return e("add",ut({"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,r)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,r,!1)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,r,!0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,r)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"DenseMatrix, any":function(t,e){return f(t,e,r,!1)},"SparseMatrix, any":function(t,e){return s(t,e,r,!1)},"any, DenseMatrix":function(t,e){return f(e,t,r,!0)},"any, SparseMatrix":function(t,e){return s(e,t,r,!0)},"Array, any":function(t,e){return f(n(t),e,r,!1).valueOf()},"any, Array":function(t,e){return f(n(e),t,r,!0).valueOf()},"any, any":r,"any, any, ...any":function(t,e,n){for(var r=this(t,e),i=0;i<n.length;i++)r=this(r,n[i]);return r}},r.signatures))})),lr=$t("dot",["typed","addScalar","multiplyScalar","conj","size"],(function(t){var e=t.typed,n=t.addScalar,r=t.multiplyScalar,i=t.conj,o=t.size;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,o){var s=a(t,o),c=E(t)?t._data:t,f=E(t)?t._datatype:void 0,l=E(o)?o._data:o,p=E(o)?o._datatype:void 0,h=2===u(t).length,d=2===u(o).length,g=n,m=r;if(f&&p&&f===p&&"string"==typeof f){var v=f;g=e.find(n,[v,v]),m=e.find(r,[v,v])}if(!h&&!d){for(var y=m(i(c[0]),l[0]),w=1;w<s;w++)y=g(y,m(i(c[w]),l[w]));return y}if(!h&&d){for(var b=m(i(c[0]),l[0][0]),x=1;x<s;x++)b=g(b,m(i(c[x]),l[x][0]));return b}if(h&&!d){for(var S=m(i(c[0][0]),l[0]),M=1;M<s;M++)S=g(S,m(i(c[M][0]),l[M]));return S}if(h&&d){for(var _=m(i(c[0][0]),l[0][0]),N=1;N<s;N++)_=g(_,m(i(c[N][0]),l[N][0]));return _}},"SparseMatrix, SparseMatrix":function(t,e){a(t,e);var i=t._index,o=t._values,u=e._index,s=e._values,c=0,f=n,l=r,p=0,h=0;for(;p<i.length&&h<u.length;){var d=i[p],g=u[h];d<g?p++:d>g?h++:d===g&&(c=f(c,l(o[p],s[h])),p++,h++)}return c}});function a(t,e){var n,r,i=u(t),o=u(e);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===o.length)r=o[0];else{if(2!==o.length||1!==o[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");r=o[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function u(t){return E(t)?t.size():o(t)}})),pr=$t("abs",["typed"],(function(t){return(0,t.typed)("abs",{number:De,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return be(t,this,!0)},Unit:function(t){return t.abs()}})}));var hr=$t("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(function(t){var e=t.typed,n=t.matrix,r=t.addScalar,i=t.multiplyScalar,o=t.equalScalar,a=t.dot,u=Gn({typed:e,equalScalar:o}),s=Kn({typed:e});function c(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function f(t,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,n){var o,a=t._data,u=t._size,s=t._datatype,c=n._data,f=n._size,l=n._datatype,p=u[0],h=f[1],d=r,g=i;s&&l&&s===l&&"string"==typeof s&&(o=s,d=e.find(r,[o,o]),g=e.find(i,[o,o]));for(var m=[],v=0;v<h;v++){for(var y=g(a[0],c[0][v]),w=1;w<p;w++)y=d(y,g(a[w],c[w][v]));m[v]=y}return t.createDenseMatrix({data:m,size:[h],datatype:o})}(t,n)}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,n){var o,a=t._data,u=t._size,s=t._datatype,c=n._data,f=n._datatype,l=u[0],p=u[1],h=r,d=i;s&&f&&s===f&&"string"==typeof s&&(o=s,h=e.find(r,[o,o]),d=e.find(i,[o,o]));for(var g=[],m=0;m<l;m++){for(var v=a[m],y=d(v[0],c[0]),w=1;w<p;w++)y=h(y,d(v[w],c[w]));g[m]=y}return t.createDenseMatrix({data:g,size:[l],datatype:o})},"SparseMatrix, any":function(t,n){var a=t._values,u=t._index,s=t._ptr,c=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var f,l=n._data,p=n._datatype,h=t._size[0],d=n._size[0],g=[],m=[],v=[],y=r,w=i,b=o,x=0;c&&p&&c===p&&"string"==typeof c&&(f=c,y=e.find(r,[f,f]),w=e.find(i,[f,f]),b=e.find(o,[f,f]),x=e.convert(0,f));var S=[],M=[];v[0]=0;for(var _=0;_<d;_++){var N=l[_];if(!b(N,x))for(var E=s[_],O=s[_+1],P=E;P<O;P++){var I=u[P];M[I]?S[I]=y(S[I],w(N,a[P])):(M[I]=!0,m.push(I),S[I]=w(N,a[P]))}}for(var C=m.length,j=0;j<C;j++){var A=m[j];g[j]=S[A]}return v[1]=m.length,t.createSparseMatrix({values:g,index:m,ptr:v,size:[h,1],datatype:f})}}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,n){var o,a=t._data,u=t._size,s=t._datatype,c=n._data,f=n._size,l=n._datatype,p=u[0],h=u[1],d=f[1],g=r,m=i;s&&l&&s===l&&"string"==typeof s&&(o=s,g=e.find(r,[o,o]),m=e.find(i,[o,o]));for(var v=[],y=0;y<p;y++){var w=a[y];v[y]=[];for(var b=0;b<d;b++){for(var x=m(w[0],c[0][b]),S=1;S<h;S++)x=g(x,m(w[S],c[S][b]));v[y][b]=x}}return t.createDenseMatrix({data:v,size:[p,d],datatype:o})},"DenseMatrix, SparseMatrix":function(t,n){var a=t._data,u=t._size,s=t._datatype,c=n._values,f=n._index,l=n._ptr,p=n._size,h=n._datatype;if(!c)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,g=u[0],m=p[1],v=r,y=i,w=o,b=0;s&&h&&s===h&&"string"==typeof s&&(d=s,v=e.find(r,[d,d]),y=e.find(i,[d,d]),w=e.find(o,[d,d]),b=e.convert(0,d));for(var x=[],S=[],M=[],_=n.createSparseMatrix({values:x,index:S,ptr:M,size:[g,m],datatype:d}),N=0;N<m;N++){M[N]=S.length;var E=l[N],O=l[N+1];if(O>E)for(var P=0,I=0;I<g;I++){for(var C=I+1,j=void 0,A=E;A<O;A++){var D=f[A];P!==C?(j=y(a[I][D],c[A]),P=C):j=v(j,y(a[I][D],c[A]))}P!==C||w(j,b)||(S.push(I),x.push(j))}}return M[m]=S.length,_},"SparseMatrix, DenseMatrix":function(t,n){var a=t._values,u=t._index,s=t._ptr,c=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var f,l=n._data,p=n._datatype,h=t._size[0],d=n._size[0],g=n._size[1],m=r,v=i,y=o,w=0;c&&p&&c===p&&"string"==typeof c&&(f=c,m=e.find(r,[f,f]),v=e.find(i,[f,f]),y=e.find(o,[f,f]),w=e.convert(0,f));for(var b=[],x=[],S=[],M=t.createSparseMatrix({values:b,index:x,ptr:S,size:[h,g],datatype:f}),_=[],N=[],E=0;E<g;E++){S[E]=x.length;for(var O=E+1,P=0;P<d;P++){var I=l[P][E];if(!y(I,w))for(var C=s[P],j=s[P+1],A=C;A<j;A++){var D=u[A];N[D]!==O?(N[D]=O,x.push(D),_[D]=v(I,a[A])):_[D]=m(_[D],v(I,a[A]))}}for(var F=S[E],R=x.length,k=F;k<R;k++){var z=x[k];b[k]=_[z]}}return S[g]=x.length,M},"SparseMatrix, SparseMatrix":function(t,n){var o,a=t._values,u=t._index,s=t._ptr,c=t._datatype,f=n._values,l=n._index,p=n._ptr,h=n._datatype,d=t._size[0],g=n._size[1],m=a&&f,v=r,y=i;c&&h&&c===h&&"string"==typeof c&&(o=c,v=e.find(r,[o,o]),y=e.find(i,[o,o]));for(var w,b,x,S,M,_,N,E,O=m?[]:void 0,P=[],I=[],C=t.createSparseMatrix({values:O,index:P,ptr:I,size:[d,g],datatype:o}),j=m?[]:void 0,A=[],D=0;D<g;D++){I[D]=P.length;var F=D+1;for(M=p[D],_=p[D+1],S=M;S<_;S++)if(E=l[S],m)for(b=s[E],x=s[E+1],w=b;w<x;w++)N=u[w],A[N]!==F?(A[N]=F,P.push(N),j[N]=y(f[S],a[w])):j[N]=v(j[N],y(f[S],a[w]));else for(b=s[E],x=s[E+1],w=b;w<x;w++)N=u[w],A[N]!==F&&(A[N]=F,P.push(N));if(m)for(var R=I[D],k=P.length,z=R;z<k;z++){var T=P[z];O[z]=j[T]}}return I[g]=P.length,C}});return e("multiply",ut({"Array, Array":function(t,e){c(Tt(t),Tt(e));var r=this(n(t),n(e));return E(r)?r.valueOf():r},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return c(n,r),1===n.length?1===r.length?function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return a(t,e)}(t,e,n[0]):f(t,e):1===r.length?l(t,e):p(t,e)},"Matrix, Array":function(t,e){return this(t,n(e))},"Array, Matrix":function(t,e){return this(n(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return u(t,e,i,!1)},"DenseMatrix, any":function(t,e){return s(t,e,i,!1)},"any, SparseMatrix":function(t,e){return u(e,t,i,!0)},"any, DenseMatrix":function(t,e){return s(e,t,i,!0)},"Array, any":function(t,e){return s(n(t),e,i,!1).valueOf()},"any, Array":function(t,e){return s(n(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(t,e,n){for(var r=this(t,e),i=0;i<n.length;i++)r=this(r,n[i]);return r}},i.signatures))}));function dr(t,e,n,r){if(!(this instanceof dr))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}dr.prototype=new Error,dr.prototype.constructor=Error,dr.prototype.name="ArgumentsError",dr.prototype.isArgumentsError=!0;n(8);var gr=$t("partitionSelect",["typed","isNumeric","isNaN","compare"],(function(t){var e=t.typed,n=t.isNumeric,r=t.isNaN,i=t.compare,o=i,a=function(t,e){return-i(t,e)};return e("partitionSelect",{"Array | Matrix, number":function(t,e){return u(t,e,o)},"Array | Matrix, number, string":function(t,e,n){if("asc"===n)return u(t,e,o);if("desc"===n)return u(t,e,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(t,e,n){if(!dt(e)||e<0)throw new Error("k must be a non-negative integer");if(E(t)){if(t.size().length>1)throw new Error("Only one dimensional matrices supported");return s(t.valueOf(),e,n)}if(Array.isArray(t))return s(t,e,n)}function s(t,e,i){if(e>=t.length)throw new Error("k out of bounds");for(var o=0;o<t.length;o++)if(n(t[o])&&r(t[o]))return t[o];for(var a=0,u=t.length-1;a<u;){for(var s=a,c=u,f=t[Math.floor(Math.random()*(u-a+1))+a];s<c;)if(i(t[s],f)>=0){var l=t[c];t[c]=t[s],t[s]=l,--c}else++s;i(t[s],f)>0&&--s,e<=s?u=s:a=s+1}return t[e]}}));function mr(t){var e;if(dt(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:kn(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*mr(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,r=n*t,i=r*t,o=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*o)+5246819/(75246796800*o*t))}--t,e=yr[0];for(var a=1;a<yr.length;++a)e+=yr[a]/(t+a);var u=t+vr+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,t+.5)*Math.exp(-u)*e}mr.signature="number";var vr=4.7421875,yr=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],wr=$t("bignumber",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){return new n(t)},BigNumber:function(t){return t},Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":function(t){return be(t,this)}})})),br=$t("numeric",["number","?bignumber","?fraction"],(function(t){var e=t.number,n=t.bignumber,r=t.fraction,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:function(t){return e(t)},BigNumber:n?function(t){return n(t)}:nr,Fraction:r?function(t){return r(t)}:rr};return function(t,e){var n=rt(t);if(!(n in i))throw new TypeError("Cannot convert "+t+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in o))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(o).join(", "));return e===n?t:o[e](t)}}));function xr(t,e,n){var r;return-1!==String(t).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+rt(n)+", value: "+JSON.stringify(n)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):-1!==String(t).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+rt(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):t}var Sr=$t("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(function(t){var e=t.typed,n=t.matrix,r=t.equalScalar,i=t.addScalar,o=t.unaryMinus,a=t.DenseMatrix,u=Zn({typed:e}),s=Jn({typed:e}),c=Yn({typed:e,equalScalar:r}),f=Wn({typed:e,DenseMatrix:a}),l=Qn({typed:e}),p=Kn({typed:e});return e("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=this(n.value,e.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(t,e){return Mr(t,e),c(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return Mr(t,e),s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return Mr(t,e),u(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return Mr(t,e),l(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return f(t,o(e),i)},"DenseMatrix, any":function(t,e){return p(t,e,this)},"any, SparseMatrix":function(t,e){return f(e,t,this,!0)},"any, DenseMatrix":function(t,e){return p(e,t,this,!0)},"Array, any":function(t,e){return p(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return p(n(e),t,this,!0).valueOf()}})}));function Mr(t,e){var n=t.size(),r=e.size();if(n.length!==r.length)throw new kt(n.length,r.length)}$t("equal",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)}})}));var _r=$t("divideScalar",["typed","numeric"],(function(t){var e=t.typed,n=t.numeric;return e("divideScalar",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var r=t.clone(),i=n(1,rt(e));return r.value=this(null===r.value?r._normalize(i):r.value,e),r},"number | Fraction | BigNumber, Unit":function(t,e){var r=e.clone();r=r.pow(-1);var i=n(1,rt(t));return r.value=this(t,null===e.value?e._normalize(i):e.value),r},"Unit, Unit":function(t,e){return t.divide(e)}})}));var Nr=$t("Spa",["addScalar","equalScalar","FibonacciHeap"],(function(t){var e=t.addScalar,n=t.equalScalar,r=t.FibonacciHeap;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var n=this._heap.insert(t,e);this._values[t]=n}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,n){var r=this._values[t];r?r.value=e(r.value,n):(r=this._heap.insert(t,n),this._values[t]=r)},i.prototype.forEach=function(t,e,r){var i=this._heap,o=this._values,a=[],u=i.extractMinimum();for(u&&a.push(u);u&&u.key<=e;)u.key>=t&&(n(u.value,0)||r(u.key,u.value,this)),(u=i.extractMinimum())&&a.push(u);for(var s=0;s<a.length;s++){var c=a[s];o[(u=i.insert(c.key,c.value)).key]=u}},i.prototype.swap=function(t,e){var n=this._values[t],r=this._values[e];if(!n&&r)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(n&&!r)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}),{isClass:!0}),Er=$t("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(function(t){var e=t.typed,n=t.matrix,r=t.abs,i=t.addScalar,o=t.divideScalar,a=t.multiplyScalar,u=t.subtract,s=t.larger,c=t.equalScalar,f=t.unaryMinus,l=t.DenseMatrix,p=t.SparseMatrix,h=t.Spa;return e("lup",{DenseMatrix:function(t){return d(t)},SparseMatrix:function(t){return g(t)},Array:function(t){var e=d(n(t));return{L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}});function d(t){var e,n,f,p=t._size[0],h=t._size[1],d=Math.min(p,h),g=ot(t._data),m=[],v=[p,d],y=[],w=[d,h],b=[];for(e=0;e<p;e++)b[e]=e;for(n=0;n<h;n++){if(n>0)for(e=0;e<p;e++){var x=Math.min(e,n),S=0;for(f=0;f<x;f++)S=i(S,a(g[e][f],g[f][n]));g[e][n]=u(g[e][n],S)}var M=n,_=0,N=0;for(e=n;e<p;e++){var E=g[e][n],O=r(E);s(O,_)&&(M=e,_=O,N=E)}if(n!==M&&(b[n]=[b[M],b[M]=b[n]][0],l._swapRows(n,M,g)),n<p)for(e=n+1;e<p;e++){var P=g[e][n];c(P,0)||(g[e][n]=o(g[e][n],N))}}for(n=0;n<h;n++)for(e=0;e<p;e++)0===n&&(e<h&&(y[e]=[]),m[e]=[]),e<n?(e<h&&(y[e][n]=g[e][n]),n<p&&(m[e][n]=0)):e!==n?(e<h&&(y[e][n]=0),n<p&&(m[e][n]=g[e][n])):(e<h&&(y[e][n]=g[e][n]),n<p&&(m[e][n]=1));var I=new l({data:m,size:v}),C=new l({data:y,size:w}),j=[];for(e=0,d=b.length;e<d;e++)j[b[e]]=e;return{L:I,U:C,p:j,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function g(t){var e,n,i,u=t._size[0],l=t._size[1],d=Math.min(u,l),g=t._values,m=t._index,v=t._ptr,y=[],w=[],b=[],x=[u,d],S=[],M=[],_=[],N=[d,l],E=[],O=[];for(e=0;e<u;e++)E[e]=e,O[e]=e;var P=function(){var t=new h;n<u&&(b.push(y.length),y.push(1),w.push(n)),_.push(S.length);var l=v[n],d=v[n+1];for(i=l;i<d;i++)e=m[i],t.set(E[e],g[i]);n>0&&t.forEach(0,n-1,(function(e,n){p._forEachRow(e,y,w,b,(function(r,i){r>e&&t.accumulate(r,f(a(i,n)))}))}));var P,I,C,j,A=n,D=t.get(n),F=r(D);t.forEach(n+1,u-1,(function(t,e){var n=r(e);s(n,F)&&(A=t,F=n,D=e)})),n!==A&&(p._swapRows(n,A,x[1],y,w,b),p._swapRows(n,A,N[1],S,M,_),t.swap(n,A),I=A,C=O[P=n],j=O[I],E[C]=I,E[j]=P,O[P]=j,O[I]=C),t.forEach(0,u-1,(function(t,e){t<=n?(S.push(e),M.push(t)):(e=o(e,D),c(e,0)||(y.push(e),w.push(t)))}))};for(n=0;n<l;n++)P();return _.push(S.length),b.push(y.length),{L:new p({values:y,index:w,ptr:b,size:x}),U:new p({values:S,index:M,ptr:_,size:N}),p:E,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}));var Or=$t("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(function(t){var e=t.typed,n=t.matrix,r=t.subtract,i=t.multiply,o=t.unaryMinus,a=t.lup;return e("det",{any:function(t){return ot(t)},"Array | Matrix":function(t){var e;switch((e=E(t)?t.size():Array.isArray(t)?(t=n(t)).size():[]).length){case 0:return ot(t);case 1:if(1===e[0])return ot(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Rt(e)+")");case 2:var u=e[0],s=e[1];if(u===s)return function(t,e,n){if(1===e)return ot(t[0][0]);if(2===e)return r(i(t[0][0],t[1][1]),i(t[1][0],t[0][1]));for(var u=a(t),s=u.U[0][0],c=1;c<e;c++)s=i(s,u.U[c][c]);for(var f=0,l=0,p=[];;){for(;p[l];)l++;if(l>=e)break;for(var h=l,d=0;!p[u.p[h]];)p[u.p[h]]=!0,h=u.p[h],d++;d%2==0&&f++}return f%2==0?s:o(s)}(t.clone().valueOf(),u);throw new RangeError("Matrix must be square (size: "+Rt(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Rt(e)+")")}}})}));var Pr=$t("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(function(t){var e=t.typed,n=t.matrix,r=t.divideScalar,i=t.addScalar,o=t.multiply,a=t.unaryMinus,u=t.det,s=t.identity,c=t.abs;return e("inv",{"Array | Matrix":function(t){var e=E(t)?t.size():Tt(t);switch(e.length){case 1:if(1===e[0])return E(t)?n([r(1,t.valueOf()[0])]):[r(1,t[0])];throw new RangeError("Matrix must be square (size: "+Rt(e)+")");case 2:var i=e[0],o=e[1];if(i===o)return E(t)?n(f(t.valueOf(),i,o),t.storage()):f(t,i,o);throw new RangeError("Matrix must be square (size: "+Rt(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Rt(e)+")")}},any:function(t){return r(1,t)}});function f(t,e,n){var f,l,p,h,d;if(1===e){if(0===(h=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,h)]]}if(2===e){var g=u(t);if(0===g)throw Error("Cannot calculate inverse, determinant is zero");return[[r(t[1][1],g),r(a(t[0][1]),g)],[r(a(t[1][0]),g),r(t[0][0],g)]]}var m=t.concat();for(f=0;f<e;f++)m[f]=m[f].concat();for(var v=s(e).valueOf(),y=0;y<n;y++){var w=c(m[y][y]),b=y;for(f=y+1;f<e;)c(m[f][y])>w&&(w=c(m[f][y]),b=f),f++;if(0===w)throw Error("Cannot calculate inverse, determinant is zero");(f=b)!==y&&(d=m[y],m[y]=m[f],m[f]=d,d=v[y],v[y]=v[f],v[f]=d);var x=m[y],S=v[y];for(f=0;f<e;f++){var M=m[f],_=v[f];if(f!==y){if(0!==M[y]){for(p=r(a(M[y]),x[y]),l=y;l<n;l++)M[l]=i(M[l],o(p,x[l]));for(l=0;l<n;l++)_[l]=i(_[l],o(p,S[l]))}}else{for(p=x[y],l=y;l<n;l++)M[l]=r(M[l],p);for(l=0;l<n;l++)_[l]=r(_[l],p)}}}return v}})),Ir=$t("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(function(t){var e=t.typed,n=t.matrix,r=t.multiply,i=t.equalScalar,o=t.divideScalar,a=t.inv,u=Gn({typed:e,equalScalar:i}),s=Kn({typed:e});return e("divide",ut({"Array | Matrix, Array | Matrix":function(t,e){return r(t,a(e))},"DenseMatrix, any":function(t,e){return s(t,e,o,!1)},"SparseMatrix, any":function(t,e){return u(t,e,o,!1)},"Array, any":function(t,e){return s(n(t),e,o,!1).valueOf()},"any, Array | Matrix":function(t,e){return r(t,a(e))}},o.signatures))})),Cr=$t("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(t){var e=t.typed,n=t.add,r=t.subtract,i=t.multiply,o=t.divide,a=t.apply,u=t.isNaN;return e("variance",{"Array | Matrix":function(t){return s(t,"unbiased")},"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":function(t,e){return c(t,e,"unbiased")},"Array | Matrix, number | BigNumber, string":c,"...":function(t){return s(t,"unbiased")}});function s(t,e){var a,s=0;if(0===t.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(we(t,(function(t){try{a=void 0===a?t:n(a,t),s++}catch(e){throw xr(e,"variance",t)}})),0===s)throw new Error("Cannot calculate variance of an empty array");var c=o(a,s);if(a=void 0,we(t,(function(t){var e=r(t,c);a=void 0===a?i(e,e):n(a,i(e,e))})),u(a))return a;switch(e){case"uncorrected":return o(a,s);case"biased":return o(a,s+1);case"unbiased":var f=b(a)?a.mul(0):0;return 1===s?f:o(a,s-1);default:throw new Error('Unknown normalization "'+e+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(t,e,n){try{if(0===t.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return a(t,e,(function(t){return s(t,n)}))}catch(t){throw xr(t,"variance")}}}));var jr=$t("std",["typed","sqrt","variance"],(function(t){var e=t.typed,n=t.sqrt,r=t.variance;return e("std",{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function(t){return i(t)}});function i(t,e){if(0===t.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return n(r.apply(null,arguments))}catch(t){throw t instanceof TypeError&&-1!==t.message.indexOf(" variance")?new TypeError(t.message.replace(" variance"," std")):t}}}));var Ar=["typed","add","divide","compare","partitionSelect"],Dr=$t("median",Ar,(function(t){var e=t.typed,n=t.add,r=t.divide,i=t.compare,o=t.partitionSelect;function a(t){try{var e=(t=Ht(t.valueOf())).length;if(0===e)throw new Error("Cannot calculate median of an empty array");if(e%2==0){for(var n=e/2-1,r=o(t,n+1),a=t[n],c=0;c<n;++c)i(t[c],a)>0&&(a=t[c]);return s(a,r)}var f=o(t,(e-1)/2);return u(f)}catch(t){throw xr(t,"median")}}var u=e({"number | BigNumber | Complex | Unit":function(t){return t}}),s=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(t,e){return r(n(t,e),2)}});return e("median",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("median(A, dim) is not yet supported")},"...":function(t){if(ye(t))throw new TypeError("Scalar values expected in function median");return a(t)}})})),Fr=Yt({}),Rr=ie({config:ht}),kr=oe({}),zr=ce({}),Tr=fe({Matrix:kr}),qr=de({BigNumber:Rr,Complex:Fr,DenseMatrix:Tr,Fraction:zr}),Br=xe({typed:qr}),Ur=Se({typed:qr}),Lr=Pe({typed:qr}),Vr=Ce({config:ht,typed:qr}),Hr=je({typed:qr}),Zr=en({isInteger:Br,typed:qr}),$r=rn({typed:qr}),Wr=Tn({Fraction:zr,typed:qr}),Qr=qn({typed:qr}),Kr=Bn({typed:qr}),Jr=Un({Complex:Fr,config:ht,typed:qr}),Yr=Ln({typed:qr}),Gr=Vn({Matrix:kr,equalScalar:Vr,typed:qr}),Xr=Hn({DenseMatrix:Tr,Matrix:kr,SparseMatrix:Gr,typed:qr}),ti=er({BigNumber:Rr,DenseMatrix:Tr,SparseMatrix:Gr,config:ht,matrix:Xr,typed:qr}),ei=or({matrix:Xr,config:ht,typed:qr}),ni=ar({BigNumber:Rr,DenseMatrix:Tr,Fraction:zr,config:ht,equalScalar:Vr,matrix:Xr,typed:qr}),ri=ur({DenseMatrix:Tr,config:ht,matrix:Xr,typed:qr}),ii=sr({DenseMatrix:Tr,config:ht,matrix:Xr,typed:qr}),oi=cr({larger:ii,smaller:ri}),ai=fr({DenseMatrix:Tr,SparseMatrix:Gr,addScalar:Kr,equalScalar:Vr,matrix:Xr,typed:qr}),ui=lr({addScalar:Kr,conj:Yr,multiplyScalar:$r,size:ei,typed:qr}),si=pr({typed:qr}),ci=hr({addScalar:Kr,dot:ui,equalScalar:Vr,matrix:Xr,multiplyScalar:$r,typed:qr}),fi=gr({compare:ni,isNaN:Lr,isNumeric:Ur,typed:qr}),li=wr({BigNumber:Rr,typed:qr}),pi=br({bignumber:li,fraction:Wr,number:Hr}),hi=Sr({DenseMatrix:Tr,addScalar:Kr,equalScalar:Vr,matrix:Xr,typed:qr,unaryMinus:Qr}),di=_r({numeric:pi,typed:qr}),gi=Nr({FibonacciHeap:oi,addScalar:Kr,equalScalar:Vr}),mi=Er({DenseMatrix:Tr,Spa:gi,SparseMatrix:Gr,abs:si,addScalar:Kr,divideScalar:di,equalScalar:Vr,larger:ii,matrix:Xr,multiplyScalar:$r,subtract:hi,typed:qr,unaryMinus:Qr}),vi=Or({lup:mi,matrix:Xr,multiply:ci,subtract:hi,typed:qr,unaryMinus:Qr}),yi=Pr({abs:si,addScalar:Kr,det:vi,divideScalar:di,identity:ti,matrix:Xr,multiply:ci,typed:qr,unaryMinus:Qr}),wi=Ir({divideScalar:di,equalScalar:Vr,inv:yi,matrix:Xr,multiply:ci,typed:qr}),bi=Cr({add:ai,apply:Zr,divide:wi,isNaN:Lr,multiply:ci,subtract:hi,typed:qr}),xi=jr({sqrt:Jr,typed:qr,variance:bi}),Si=Dr({add:ai,compare:ni,divide:wi,partitionSelect:fi,typed:qr});function Mi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e.slice(0,-1),o=e[e.length-1],a=h.a.map(o,(function(e){var n=e.fields[0],o=e.fields[1],a=t.apply(void 0,l(i,[n.values.toArray(),o.values.toArray()])),s=u(u({},n),{values:new r.ArrayVector(a.times)}),c=u(u({},o),{values:new r.ArrayVector(a.values)});return new r.MutableDataFrame(u(u({},e),{fields:[s,c]}))}));return a}function _i(t){return h.a.mean(t)}function Ni(t){return h.a.min(t)}function Ei(t){return h.a.max(t)}function Oi(t){return h.a.sum(t)}var Pi={avg:_i,min:Ni,max:Ei,sum:Oi,absoluteMin:function(t){var e=h.a.minBy(t,(function(t){return Math.abs(t)}));return void 0===e?e:Math.abs(e)},absoluteMax:function(t){var e=h.a.maxBy(t,(function(t){return Math.abs(t)}));return void 0===e?e:Math.abs(e)}};function Ii(t,e,n,r){var i=Pi[n],o=h.a.sortBy(r,(function(t){return i(t.fields[1].values.toArray())}));return"bottom"===t?h.a.slice(o,0,e):h.a.reverse(h.a.slice(o,-e))}function Ci(t,e,n){var r=Pi[t],i=h.a.sortBy(n,(function(t){return r(t.fields[1].values.toArray())}));return"asc"===e?i:h.a.reverse(i)}var ji={scale:h.a.partial(Mi,(function(t,e,n){return{times:e,values:h.a.map(n,(function(e){return e*t}))}})),offset:h.a.partial(Mi,(function(t,e,n){return{times:e,values:h.a.map(n,(function(e){return e+t}))}})),delta:h.a.partial(Mi,(function(t,e){for(var n=[],r=[],i=1;i<e.length;i+=1){var o=e[i]-e[i-1];n.push(t[i]),r.push(o)}return{times:n,values:r}})),fluctuation:h.a.partial(Mi,(function(t,e){for(var n=[],r=0;r<e.length;r+=1){var i=e[r]-e[0];n.push(i)}return{times:t,values:n}})),movingAverage:h.a.partial(Mi,(function(t,e,n){return n.length<t?{times:e,values:n}:{times:e,values:h.a.map(n,(function(e,r){var i=h.a.slice(n,h.a.max([0,r-t+1]),r+1);return h.a.mean(i)}))}})),top:h.a.partial(Ii,"top"),bottom:h.a.partial(Ii,"bottom"),exclude:function(t,e){var n=new RegExp(t);return h.a.filter(e,(function(t){var e=t.fields[1],i=Object(r.getFieldDisplayName)(e,t);return!n.test(i)}))},sortByAvg:h.a.partial(Ci,"avg"),sortByMax:h.a.partial(Ci,"max"),sortByMin:h.a.partial(Ci,"min"),sortBySum:h.a.partial(Ci,"sum"),sortByAbsMax:h.a.partial(Ci,"absoluteMax"),sortByAbsMin:h.a.partial(Ci,"absoluteMin")},Ai={toScalarByAvg:{func:_i,label:"avg"},toScalarByMax:{func:Ei,label:"max"},toScalarByMin:{func:Ni,label:"min"},toScalarBySum:{func:Oi,label:"sum"},toScalarByMed:{func:Si,label:"median"},toScalarByStd:{func:xi,label:"std"}},Di={},Fi={Transform:[],"Array to Scalar":[],"Filter Series":[],Sort:[],Options:[]};function Ri(t){var e=u({},t);e.params=e.params||[],e.defaultParams=e.defaultParams||[],e.category&&Fi[e.category].push(e),Di[e.name]=e,Di[e.shortName||e.name]=e}function ki(t,e){var n=h.a.reduce(e,(function(t,e){return h.a.concat(t,h.a.map(Fi[e],"name"))}),[]);return h.a.filter(t,(function(t){return h.a.includes(n,t.def.name)}))}function zi(t,e){var n=ki(t,["Transform","Filter Series","Sort"]);return h.a.reduce(n,(function(t,e){return t.then((function(t){var n=function(t,e){var n=t[e.def.name];if(!n)throw new Error("Method not found "+e.def.name);for(var r,i=n,o=0;o<e.params.length;o+=1)r=e.params[o],"int"!==e.def.params[o].type&&"float"!==e.def.params[o].type||(r=Number(r)),i=h.a.partial(i,r);return i}(ji,e);return Promise.resolve(n(t))}))}),Promise.resolve(e))}Ri({name:"scale",category:"Transform",params:[{name:"factor",type:"float"}],defaultParams:["100"]}),Ri({name:"offset",category:"Transform",params:[{name:"delta",type:"float"}],defaultParams:["100"]}),Ri({name:"delta",category:"Transform",params:[],defaultParams:[]}),Ri({name:"fluctuation",category:"Transform",params:[],defaultParams:[]}),Ri({name:"movingAverage",category:"Transform",params:[{name:"windowSize",type:"int"}],defaultParams:["10"]}),Ri({name:"toScalarByAvg",category:"Array to Scalar",params:[],defaultParams:[]}),Ri({name:"toScalarByMax",category:"Array to Scalar",params:[],defaultParams:[]}),Ri({name:"toScalarByMin",category:"Array to Scalar",params:[],defaultParams:[]}),Ri({name:"toScalarBySum",category:"Array to Scalar",params:[],defaultParams:[]}),Ri({name:"toScalarByMed",category:"Array to Scalar",params:[],defaultParams:[]}),Ri({name:"toScalarByStd",category:"Array to Scalar",params:[],defaultParams:[]}),Ri({name:"top",category:"Filter Series",params:[{name:"number",type:"int"},{name:"value",type:"string",options:["avg","min","max","absoluteMin","absoluteMax","sum"]}],defaultParams:["5","avg"]}),Ri({name:"bottom",category:"Filter Series",params:[{name:"number",type:"int"},{name:"value",type:"string",options:["avg","min","max","absoluteMin","absoluteMax","sum"]}],defaultParams:["5","avg"]}),Ri({name:"exclude",category:"Filter Series",params:[{name:"pattern",type:"string"}],defaultParams:[""]}),Ri({name:"sortByAvg",category:"Sort",params:[{name:"order",type:"string",options:["desc","asc"]}],defaultParams:["desc"]}),Ri({name:"sortByMax",category:"Sort",params:[{name:"order",type:"string",options:["desc","asc"]}],defaultParams:["desc"]}),Ri({name:"sortByMin",category:"Sort",params:[{name:"order",type:"string",options:["desc","asc"]}],defaultParams:["desc"]}),Ri({name:"sortBySum",category:"Sort",params:[{name:"order",type:"string",options:["desc","asc"]}],defaultParams:["desc"]}),Ri({name:"sortByAbsMax",category:"Sort",params:[{name:"order",type:"string",options:["desc","asc"]}],defaultParams:["desc"]}),Ri({name:"sortByAbsMin",category:"Sort",params:[{name:"order",type:"string",options:["desc","asc"]}],defaultParams:["desc"]}),Ri({name:"maxNumPVs",category:"Options",params:[{name:"number",type:"int"}],defaultParams:["100"]}),Ri({name:"binInterval",category:"Options",params:[{name:"interval",type:"int"}],defaultParams:["900"]}),Ri({name:"disableAutoRaw",category:"Options",params:[{name:"boolean",type:"string",options:["true","false"]}],defaultParams:["true"]}),Ri({name:"disableExtrapol",category:"Options",params:[{name:"boolean",type:"string",options:["true","false"]}],defaultParams:["true"]});var Ti=function(t){function e(e){var n=t.call(this,e)||this;return n.url=e.url,n.name=e.name,n.withCredentials=e.withCredentials,n.headers={"Content-Type":"application/json"},"string"==typeof e.basicAuth&&e.basicAuth.length>0&&(n.headers.Authorization=e.basicAuth),n}return a(e,t),e.prototype.query=function(t){return s(this,void 0,Promise,(function(){var e,n,r,i=this;return c(this,(function(o){return e=this.buildQueryParameters(t),(n=h.a.filter(e,(function(t){return!t.hide}))).length<=0?[2,Promise.resolve({data:[]})]:(r=h.a.map(n,(function(t){return i.buildUrls(t)})),[2,Promise.all(r).then((function(t){var e=i.createUrlRequests(t),r=h.a.map(e,(function(t,e){return Promise.all(t).then((function(t){return i.targetProcess(t,n[e])}))}));return Promise.all(r)})).then((function(t){return i.postProcess(t)}))])}))}))},e.prototype.targetProcess=function(t,e){var n=this;return this.responseParse(t,e).then((function(t){return n.setAlias(t,e)})).then((function(t){return n.applyFunctions(t,e)}))},e.prototype.postProcess=function(t){return{data:h.a.flatten(t)}},e.prototype.buildUrls=function(t){var e=this,n=Number(t.options.maxNumPVs)||100,r=t.options.binInterval||t.interval,i=this.parseTargetPV(t.target),o=h.a.map(i,(function(r){return t.regex?e.pvNamesFindQuery(r,n):Promise.resolve([r])}));return Promise.all(o).then((function(i){return new Promise((function(o,a){var u,s=h.a.slice(h.a.uniq(h.a.flatten(i)),0,n);try{u=h.a.map(s,(function(n){return e.buildUrl(n,t.operator,r,t.from,t.to)}))}catch(t){a(t)}o(u)}))}))},e.prototype.buildUrl=function(t,e,n,r,i){var o=function(){if("raw"===e||"last"===e||""===n)return""+t;if(h.a.includes(["",void 0],e))return"mean_"+n+"("+t+")";if(h.a.includes(g,e))return e+"_"+n+"("+t+")";throw new Error("Data Processing Operator is invalid.")}(),a="last"===e?i.toISOString():r.toISOString();return this.url+"/data/getData.qw?pv="+encodeURIComponent(o)+"&from="+a+"&to="+i.toISOString()},e.prototype.createUrlRequests=function(t){var e=this,n={};return h.a.map(t,(function(t){return h.a.map(t,(function(t){return t in n||(n[t]=e.doRequest({url:t,method:"GET"})),n[t]}))}))},e.prototype.responseParse=function(t,e){var n=this,r=h.a.map(t,(function(t){var r=h.a.map(t.data,(function(t){if(t.meta.waveform){var r=(i=e.functions,o=ki(i,["Array to Scalar"]),h.a.map(o,(function(t){return Ai[t.def.name]})));return r.length>0?n.parseArrayResponseToScalar(t,r):n.parseArrayResponse(t)}var i,o;return n.parseScalarResponse(t)}));return h.a.flatten(r)})),i=h.a.flatten(r);if("raw"!==e.operator&&""!==e.interval||"true"===e.options.disableExtrapol)return Promise.resolve(i);var o=e.to.getTime(),a=h.a.map(i,(function(t){var e=t.get(t.length-1),n=u(u({},e),{time:o});return t.add(n),t}));return Promise.resolve(a)},e.prototype.parseArrayResponse=function(t){if(!m(t))return new r.MutableDataFrame;var e=h.a.map(t.data,(function(t){return t.val})),n=h.a.unzip(e),i=h.a.map(t.data,(function(t){return t.millis})),o=[{name:"time",type:r.FieldType.time,values:i}];return h.a.reduce(n,(function(e,n,i){var o={name:t.meta.name+"["+i+"]",type:r.FieldType.number,values:n};return e.push(o),e}),o),new r.MutableDataFrame({name:t.meta.name,fields:o})},e.prototype.parseArrayResponseToScalar=function(t,e){return m(t)?h.a.map(e,(function(e){var n=h.a.map(t.data,(function(t){return e.func(t.val)})),i=h.a.map(t.data,(function(t){return t.millis}));return new r.MutableDataFrame({name:t.meta.name,fields:[{name:"time",type:r.FieldType.time,values:i},{name:"value",type:r.FieldType.number,values:n,config:{displayName:t.meta.name+" ("+e.label+")"}}]})})):new r.MutableDataFrame},e.prototype.parseScalarResponse=function(t){var e=h.a.map(t.data,(function(t){return t.val})),n=h.a.map(t.data,(function(t){return t.millis}));return new r.MutableDataFrame({name:t.meta.name,fields:[{name:"time",type:r.FieldType.time,values:n},{name:"value",type:r.FieldType.number,values:e,config:{displayName:t.meta.name}}]})},e.prototype.setAlias=function(t,e){return s(this,void 0,Promise,(function(){var n,i;return c(this,(function(o){return e.alias?(e.aliasPattern&&(n=new RegExp(e.aliasPattern,"")),i=h.a.map(t,(function(t){var i=h.a.filter(t.fields,(function(t){return"time"!==t.name})),o=h.a.map(i,(function(i){var o=Object(r.getFieldDisplayName)(i,t),a=n?o.replace(n,e.alias):e.alias;return u(u({},i),{config:u(u({},i.config),{displayName:a}),state:u(u({},i.state),{displayName:a})})}));return new r.MutableDataFrame(u(u({},t),{fields:[t.fields[0]].concat(o)}))})),[2,Promise.resolve(i)]):[2,Promise.resolve(t)]}))}))},e.prototype.applyFunctions=function(t,e){return void 0===e.functions?Promise.resolve(t):zi(e.functions,t)},e.prototype.testDatasource=function(){return s(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.doRequest({url:this.url+"/bpl/getVersion",method:"GET"}).then((function(t){return 200===t.status?{status:"success",message:"Data source is working",title:"Success"}:{status:"error",title:"Failed",message:t.message}}))]}))}))},e.prototype.pvNamesFindQuery=function(t,e){if(!t)return Promise.resolve([]);var n=this.url+"/bpl/getMatchingPVs?limit="+e+"&regex="+encodeURIComponent(t);return this.doRequest({url:n,method:"GET"}).then((function(t){return t.data}))},e.prototype.metricFindQuery=function(t){var e=this,n=f(Object(i.getTemplateSrv)().replace(t,void 0,"regex").split("?",2),2),r=n[0],o=n[1],a=this.parseTargetPV(r),u=100;if(o){var s=new URLSearchParams(o).get("limit");if(s){var c=parseInt(s,10);u=Number.isInteger(c)?c:100}}var l=h.a.map(a,(function(t){return e.pvNamesFindQuery(t,u)}));return Promise.all(l).then((function(t){var e=h.a.slice(h.a.uniq(h.a.flatten(t)),0,u);return h.a.map(e,(function(t){return{text:t}}))}))},e.prototype.doRequest=function(t){var e=u({},t);return e.withCredentials=this.withCredentials,e.headers=this.headers,Object(i.getBackendSrv)().datasourceRequest(e)},e.prototype.buildQueryParameters=function(t){var e=Object(i.getTemplateSrv)(),n=u({},t);if(n.targets=h.a.filter(n.targets,(function(t){return""!==t.target&&void 0!==t.target})),n.targets.length<=0)return[];var r=new Date(String(n.range.from)),o=new Date(String(n.range.to)),a=o.getTime()-r.getTime(),s=n.maxDataPoints||2e3,c=h.a.floor(a/(1e3*s));return h.a.map(n.targets,(function(t){var i,a,u=h.a.map(t.functions,(function(t){var r=t;return r.params=h.a.map(r.params,(function(t){return e.replace(t,n.scopedVars,"regex")})),r})),s=(i=t.functions,a=ki(i,["Options"]),h.a.reduce(a,(function(t,e){var n;return n=f(e.params,1),t[e.def.name]=n[0],t}),{})),l=c>=1?String(c):"true"===s.disableAutoRaw?"1":"";return{target:e.replace(t.target,n.scopedVars,"regex"),refId:t.refId,hide:t.hide,alias:e.replace(t.alias,n.scopedVars,"regex"),operator:e.replace(t.operator,n.scopedVars,"regex"),functions:u,regex:t.regex,aliasPattern:t.aliasPattern,options:s,from:r,to:o,interval:l}}))},e.prototype.parseTargetPV=function(t){var e=h.a.split(t,/(\(.*?\))/),n=[""];return h.a.forEach(e,(function(t,e){if(e%2!=0){var r=h.a.split(h.a.trim(t,"()"),"|"),i=h.a.map(n,(function(t){return h.a.map(r,(function(e){return""+t+e}))}));n=h.a.flatten(i)}else n=h.a.map(n,(function(e){return""+e+t}))})),n},e}(r.DataSourceApi),qi=n(31),Bi=n.n(qi),Ui=n(1),Li=n.n(Ui),Vi=n(4),Hi=n(11),Zi=n.n(Hi),$i=function(t){return t.description?Li.a.createElement("span",{className:"pointer fa fa-question-circle",onClick:t.onDescriptionShow}):Li.a.createElement("span",{className:"pointer fa fa-question-circle",onClick:function(){window.open("https://sasaki77.github.io/archiverappliance-datasource/functions.html#"+t.name,"_blank")}})},Wi=function(t){var e=t.func,n=t.index,r=t.onMoveLeft,i=t.onMoveRight,o=t.onRemove,a=t.onDescriptionShow;return Li.a.createElement("div",{style:{display:"flex",width:"60px",justifyContent:"space-between"}},Li.a.createElement("span",{className:"pointer fa fa-arrow-left",onClick:function(){return r(e,n)}}),Li.a.createElement($i,{name:e.def.name,description:e.def.description,onDescriptionShow:a}),Li.a.createElement("span",{className:"pointer fa fa-remove",onClick:function(){return o(e,n)}}),Li.a.createElement("span",{className:"pointer fa fa-arrow-right",onClick:function(){return i(e,n)}}))},Qi=function(t){function e(e){var n=t.call(this,e)||this;return n.triggerRef=Li.a.createRef(),n.renderContent=function(t){var e=t.updatePopperPosition,r=n.props,i=r.onMoveLeft,o=r.onMoveRight,a=r.func.def,s=a.name,c=a.description;return n.state.showingDescription?Li.a.createElement("div",{style:{overflow:"auto",maxHeight:"30rem",textAlign:"left",fontWeight:"normal"}},Li.a.createElement("h4",{style:{color:"white"}}," ",s," "),Li.a.createElement("div",null,c)):Li.a.createElement(Wi,u({},n.props,{onMoveLeft:function(){i(n.props.func,n.props.index),e()},onMoveRight:function(){o(n.props.func,n.props.index),e()},onDescriptionShow:function(){n.setState({showingDescription:!0},(function(){e()}))}}))},n.state={showingDescription:!1},n}return a(e,t),e.prototype.render=function(){var t=this;return Li.a.createElement(Vi.PopoverController,{content:this.renderContent,placement:"top",hideAfter:300},(function(e,n,r){return Li.a.createElement(Li.a.Fragment,null,t.triggerRef&&Li.a.createElement(Vi.Popover,u({},r,{referenceElement:t.triggerRef.current||void 0,wrapperClassName:"popper",className:"popper__background",onMouseLeave:function(){t.setState({showingDescription:!1}),n()},onMouseEnter:e,renderArrow:function(t){var e=t.arrowProps,n=t.placement;return Li.a.createElement("div",u({className:"popper__arrow","data-placement":n},e))}})),Li.a.createElement("span",{ref:t.triggerRef,onClick:r.show?n:e,onMouseLeave:function(){n(),t.setState({showingDescription:!1})},style:{cursor:"pointer"}},t.props.func.def.name))}))},e}(Li.a.PureComponent),Ki=n(32),Ji=n.n(Ki),Yi=function(t){return t},Gi=function(t){return Li.a.createElement("span",null,t)},Xi=function(t){function e(e){var n=t.call(this,e)||this;return n.state={suggestions:[],focused:!1},n.onChange=function(t,e,r){var i=r.newValue;n.props.onChange(t,String(i))},n.onKeydownEnter=function(t){13===t.keyCode&&t.currentTarget.blur()},n.onPVSuggestionsFetchRequested=function(t,e){t.value;var r=void 0===e?[]:e;n.setState({suggestions:r})},n.onPVSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.onSuggestionsSelected=function(t,e){e.suggestion,e.suggestionValue,e.suggestionIndex,e.sectionIndex;"enter"===e.method&&t.currentTarget.blur()},n.onFocus=function(t){n.setState({focused:!0})},n.onBlur=function(t){var e=n.props.onRunQuery;n.setState({focused:!1}),e()},n.calcInputWidth=function(t,e,n){if(t)return"90px";var r=e.length;return r<1?n.length+"ch":r+"ch"},n}return a(e,t),e.prototype.render=function(){var t=this,e=this.state,n=e.suggestions,r=e.focused,i=this.props,o=i.param,a=i.paramDef,u=i.index,s=this.calcInputWidth(r,o,a.name);return Li.a.createElement("div",{className:"aa-func-param"},Li.a.createElement(Zi.a,{suggestions:n,onSuggestionsFetchRequested:function(e){return t.onPVSuggestionsFetchRequested(e,a.options)},onSuggestionsClearRequested:this.onPVSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionsSelected,getSuggestionValue:Yi,renderSuggestion:Gi,inputProps:{value:o,className:"tight-form-func-param",placeholder:a?a.name:"",spellCheck:!1,onChange:function(e,n){return t.onChange(u,e,n)},onBlur:this.onBlur,onKeyDown:this.onKeydownEnter,onFocus:this.onFocus,style:{width:s,fontFamily:'Consolas, "Courier New", Courier, Monaco, monospace'}}}))},e}(Li.a.PureComponent),to=function(t){function e(e){var n=t.call(this,e)||this;return n.onParamChange=function(t,e){var r=n.props,i=r.func,o=r.index,a=l(i.params);a.splice(t,1,e);var s=u(u({},i),{params:a});n.props.onChange(s,o)},n}return a(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.func,r=e.onRunQuery,i=n.params,o=n.def,a=Ji()(i,o.params);return Li.a.createElement(Li.a.Fragment,null,a&&a.map((function(e,n){var i=f(e,2),o=i[0],a=i[1];if(void 0!==o&&void 0!==a)return Li.a.createElement(Li.a.Fragment,{key:a.name},n>0?Li.a.createElement("span",{className:"comma"},","):"",Li.a.createElement("div",null,Li.a.createElement(Xi,{param:o,paramDef:a,index:n,onRunQuery:r,onChange:t.onParamChange})))})))},e}(Li.a.PureComponent),eo=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.render=function(){var t=this.props,e=t.onMoveLeft,n=t.onMoveRight,r=t.onRemove,i=t.func,o=t.index,a=t.onChange,u=t.onRunQuery;return Li.a.createElement("span",{className:"gf-form-label query-part"},Li.a.createElement(Qi,{func:i,index:o,onMoveLeft:e,onMoveRight:n,onRemove:r}),Li.a.createElement("span",null,"("),Li.a.createElement(to,{func:i,index:o,onChange:a,onRunQuery:u}),Li.a.createElement("span",null,")"))},e}(Li.a.PureComponent),no=function(t){function e(e){var n=t.call(this,e)||this;return n.onChange=function(t,e){t.length<2||n.props.addFunc(t[1])},n}return a(e,t),e.prototype.render=function(){var t=function(t){return Object(p.reduce)(t,(function(t,e,n){var r=[];return Object(p.each)(e,(function(t){return r.push({label:t.name,value:t})})),t.push({label:n,value:n,children:r}),t}),[])}(Fi);return Li.a.createElement(Vi.ButtonCascader,{options:t,value:void 0,onChange:this.onChange},"Add")},e}(Li.a.PureComponent),ro=function(t,e,n){var r=l(t),i=r.splice(e,1)[0];return r.splice(n,0,i),r},io=function(t){function e(e){var n=t.call(this,e)||this;return n.addFunction=function(t){var e=n.props,r=e.onChange,i=e.onRunQuery,o=function(t,e){if(!e){var n=t.defaultParams.slice(0);return{def:t,params:n}}return{def:t,params:e}}(t,t.defaultParams),a=l(n.props.funcs);a.push(o),r(a),(o.params.length||0===o.def.params.length)&&i()},n.handleRemoveFunction=function(t,e){var r=n.props,i=r.onChange,o=r.onRunQuery,a=l(n.props.funcs);a.splice(e,1),i(a),o()},n.handleMoveLeft=function(t,e){if(!(e<1)){var r=n.props,i=r.onChange,o=r.onRunQuery;i(ro(n.props.funcs,e,e-1)),o()}},n.handleMoveRight=function(t,e){if(!(e>=n.props.funcs.length-1)){var r=n.props,i=r.onChange,o=r.onRunQuery;i(ro(n.props.funcs,e,e+1)),o()}},n.onFuncChange=function(t,e){var r=n.props.onChange,i=l(n.props.funcs);i.splice(e,1,t),r(i)},n}return a(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.funcs,r=e.onRunQuery;return Li.a.createElement("div",{className:"gf-form-inline"},Li.a.createElement("div",{className:"gf-form"},Li.a.createElement(Vi.InlineFormLabel,{width:6,className:"query-keyword"},"Functions")),Li.a.createElement("div",{className:"gf-form"},n&&n.map((function(e,n){return Li.a.createElement(eo,{key:n,index:n,func:e,onMoveLeft:t.handleMoveLeft,onMoveRight:t.handleMoveRight,onRemove:t.handleRemoveFunction,onChange:t.onFuncChange,onRunQuery:r})}))),Li.a.createElement("div",{className:"gf-form"},Li.a.createElement(no,{addFunc:this.addFunction})),Li.a.createElement("div",{className:"gf-form gf-form--grow"},Li.a.createElement("div",{className:"gf-form-label gf-form-label--grow"})))},e}(Li.a.PureComponent),oo=function(t){return t},ao=function(t){return Li.a.createElement("span",null,t)},uo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={pvSuggestions:[],oprSuggestions:[]},e.onPVChange=function(t,n){var r=n.newValue,i=e.props,o=i.onChange,a=i.query;o(u(u({},a),{target:r}))},e.onRegexChange=function(t){var n=e.props,r=n.onChange,i=n.onRunQuery,o=n.query;r(u(u({},o),{regex:!o.regex})),i()},e.onOperatorChange=function(t,n){var r=n.newValue,i=e.props,o=i.onChange,a=i.query;o(u(u({},a),{operator:r}))},e.onAliasChange=function(t){var n=e.props,r=n.onChange,i=n.query;r(u(u({},i),{alias:t.target.value}))},e.onAliaspatternChange=function(t){var n=e.props,r=n.onChange,i=n.query;r(u(u({},i),{aliasPattern:t.target.value}))},e.onFuncsChange=function(t){var n=e.props,r=n.onChange,i=n.query;r(u(u({},i),{functions:t}))},e.onKeydownEnter=function(t){13===t.keyCode&&t.currentTarget.blur()},e.onPVSuggestionsFetchRequested=function(t){var n=t.value;e.loadPVSuggestions(n)},e.onPVSuggestionsClearRequested=function(){e.setState({pvSuggestions:[]})},e.onOprSuggestionsFetchRequested=function(t){var n=t.value.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=new RegExp(".*"+n,"i"),i=g.filter((function(t){return r.test(t)}));e.setState({oprSuggestions:i})},e.onOprSuggestionsClearRequested=function(){e.setState({oprSuggestions:[]})},e.onSuggestionsSelected=function(t,e){e.suggestion,e.suggestionValue,e.suggestionIndex,e.sectionIndex;"enter"===e.method&&t.currentTarget.blur()},e}return a(e,t),e.prototype.loadPVSuggestions=function(t){var e=this,n=Object(i.getTemplateSrv)().replace(t,void 0,"regex"),r=this.props.query.regex?n:".*"+n+".*";this.props.datasource.pvNamesFindQuery(r,100).then((function(t){e.setState({pvSuggestions:t})}))},e.prototype.render=function(){var t=Bi()(this.props.query,d),e=this.state,n=e.pvSuggestions,r=e.oprSuggestions,i=this.props.onRunQuery,o=t.regex?{color:"#d69e2e"}:{},a=t.aliasPattern?{color:"#d69e2e"}:{};return Li.a.createElement(Li.a.Fragment,null,Li.a.createElement("div",{className:"gf-form-inline"},Li.a.createElement(Vi.InlineFormLabel,{width:6,className:"query-keyword"},"PV"),Li.a.createElement("div",{className:"max-width-30",style:{marginRight:"4px"}},Li.a.createElement(Zi.a,{suggestions:n,onSuggestionsFetchRequested:this.onPVSuggestionsFetchRequested,onSuggestionsClearRequested:this.onPVSuggestionsClearRequested,getSuggestionValue:oo,onSuggestionSelected:this.onSuggestionsSelected,renderSuggestion:ao,shouldRenderSuggestions:function(){return!0},inputProps:{value:t.target,className:"gf-form-input",placeholder:"PV name",spellCheck:!1,style:o,onChange:this.onPVChange,onBlur:i,onKeyDown:this.onKeydownEnter}})),Li.a.createElement(Vi.LegacyForms.Switch,{checked:t.regex,label:"Regex",labelClass:"width-6  query-keyword",onChange:this.onRegexChange})),Li.a.createElement("div",{className:"gf-form"},Li.a.createElement(Vi.InlineFormLabel,{width:6,className:"query-keyword"},"Operator"),Li.a.createElement("div",{className:"max-width-30"},Li.a.createElement(Zi.a,{suggestions:r,onSuggestionsFetchRequested:this.onOprSuggestionsFetchRequested,onSuggestionsClearRequested:this.onOprSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionsSelected,getSuggestionValue:oo,renderSuggestion:ao,shouldRenderSuggestions:function(){return!0},inputProps:{value:t.operator,className:"gf-form-input",placeholder:"mean",spellCheck:!1,onChange:this.onOperatorChange,onBlur:i,onKeyDown:this.onKeydownEnter}}))),Li.a.createElement("div",{className:"gf-form"},Li.a.createElement(Vi.InlineFormLabel,{width:6,className:"query-keyword"},"Alias"),Li.a.createElement("input",{type:"text",value:t.alias,className:"gf-form-input max-width-30",placeholder:"Alias",style:a,onChange:this.onAliasChange,onBlur:i,onKeyDown:this.onKeydownEnter}),Li.a.createElement(Vi.InlineFormLabel,{width:6,className:"query-keyword"},"Alias pattern"),Li.a.createElement("input",{type:"text",value:t.aliasPattern,className:"gf-form-input max-width-30",placeholder:"Alias regex pattern",style:{color:"#d69e2e"},onChange:this.onAliaspatternChange,onBlur:i,onKeyDown:this.onKeydownEnter})),Li.a.createElement(io,{funcs:t.functions,onChange:this.onFuncsChange,onRunQuery:i}))},e}(Ui.PureComponent),so=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.render=function(){var t=this.props,e=t.options,n=t.onOptionsChange;return Li.a.createElement(Li.a.Fragment,null,Li.a.createElement(Vi.DataSourceHttpSettings,{defaultUrl:"http://localhost:17668/retrieval",dataSourceConfig:e,onChange:n}))},e}(Ui.PureComponent);n.d(e,"plugin",(function(){return co})),Object(i.loadPluginCss)({dark:"plugins/sasaki77-archiverappliance-datasource/styles/dark.css",light:"plugins/sasaki77-archiverappliance-datasource/styles/light.css"});var co=new r.DataSourcePlugin(Ti).setConfigEditor(so).setQueryEditor(uo)}])}));
//# sourceMappingURL=module.js.map